{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Coding/Self_Learningv1/components/calendar/calendar-view.tsx"],"sourcesContent":["// components/calendar/calendar-view.tsx\n\"use client\"\n\nimport { useState } from \"react\"\nimport {\n  format,\n  startOfMonth,\n  endOfMonth,\n  startOfWeek,\n  endOfWeek,\n  addDays,\n  addMonths,\n  subMonths,\n  isSameMonth,\n  isSameDay,\n  isToday,\n} from \"date-fns\"\nimport { zhTW } from \"date-fns/locale\"\nimport { Button } from \"@/components/ui/button\"\nimport { ChevronLeft, ChevronRight } from \"lucide-react\"\n\n// Ê®°ÁµÑÈ°èËâ≤ÂÆöÁæ©\nexport const MODULE_COLORS = {\n  schedule: \"bg-blue-500\",      // Ë™≤Ë°®\n  tasks: \"bg-amber-500\",        // ‰ªªÂãô\n  habits: \"bg-cyan-500\",        // ÁøíÊÖ£ÊâìÂç°\n  journal_life: \"bg-pink-500\",  // ÁîüÊ¥ªÊó•Ë™å\n  journal_learning: \"bg-purple-500\", // Â≠∏ÁøíÊó•Ë™å\n  journal_reading: \"bg-green-500\",   // Èñ±ËÆÄÊó•Ë™å\n  journal_gratitude: \"bg-yellow-500\", // ÊÑüÊÅ©Êó•Ë™å\n  finance: \"bg-emerald-500\",    // Êî∂ÊîØ\n  exercise: \"bg-orange-500\",    // ÈÅãÂãï\n  health: \"bg-red-500\",         // ÂÅ•Â∫∑\n} as const\n\nexport type ModuleType = keyof typeof MODULE_COLORS\n\n// Êó•ÊúüË≥áÊñôÊåáÁ§∫Âô®È°ûÂûã\nexport interface DayIndicators {\n  [dateKey: string]: ModuleType[]\n}\n\ninterface CalendarViewProps {\n  selectedDate: Date\n  onSelectDate: (date: Date) => void\n  indicators?: DayIndicators\n  view?: \"month\" | \"week\"\n  onViewChange?: (view: \"month\" | \"week\") => void\n}\n\nexport function CalendarView({\n  selectedDate,\n  onSelectDate,\n  indicators = {},\n  view = \"month\",\n  onViewChange,\n}: CalendarViewProps) {\n  const [currentMonth, setCurrentMonth] = useState(new Date())\n\n  // ‰∏äÂÄãÊúà\n  const handlePrevMonth = () => {\n    setCurrentMonth(subMonths(currentMonth, 1))\n  }\n\n  // ‰∏ãÂÄãÊúà\n  const handleNextMonth = () => {\n    setCurrentMonth(addMonths(currentMonth, 1))\n  }\n\n  // ÂõûÂà∞‰ªäÂ§©\n  const handleToday = () => {\n    setCurrentMonth(new Date())\n    onSelectDate(new Date())\n  }\n\n  // ÁîüÊàêÊúàÊõÜÊó•Êúü\n  const generateMonthDays = () => {\n    const monthStart = startOfMonth(currentMonth)\n    const monthEnd = endOfMonth(currentMonth)\n    const startDate = startOfWeek(monthStart, { weekStartsOn: 1 }) // ÈÄ±‰∏ÄÈñãÂßã\n    const endDate = endOfWeek(monthEnd, { weekStartsOn: 1 })\n\n    const days: Date[] = []\n    let day = startDate\n\n    while (day <= endDate) {\n      days.push(day)\n      day = addDays(day, 1)\n    }\n\n    return days\n  }\n\n  // ÁîüÊàêÈÄ±Ê™¢Ë¶ñÊó•Êúü\n  const generateWeekDays = () => {\n    const weekStart = startOfWeek(selectedDate, { weekStartsOn: 1 })\n    const days: Date[] = []\n\n    for (let i = 0; i < 7; i++) {\n      days.push(addDays(weekStart, i))\n    }\n\n    return days\n  }\n\n  const days = view === \"month\" ? generateMonthDays() : generateWeekDays()\n  const weekDays = [\"‰∏Ä\", \"‰∫å\", \"‰∏â\", \"Âõõ\", \"‰∫î\", \"ÂÖ≠\", \"Êó•\"]\n\n  // ÂèñÂæóÊó•ÊúüÁöÑÊåáÁ§∫Âô®\n  const getIndicators = (date: Date): ModuleType[] => {\n    const dateKey = format(date, \"yyyy-MM-dd\")\n    return indicators[dateKey] || []\n  }\n\n  return (\n    <div className=\"bg-white rounded-lg shadow-sm border p-4\">\n      {/* Ê®ôÈ°åÂàó */}\n      <div className=\"flex items-center justify-between mb-4\">\n        <div className=\"flex items-center gap-2\">\n          <h2 className=\"text-xl font-bold text-gray-800\">\n            {format(currentMonth, \"yyyyÂπ¥ MÊúà\", { locale: zhTW })}\n          </h2>\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            onClick={handleToday}\n            className=\"text-xs\"\n          >\n            ‰ªäÂ§©\n          </Button>\n        </div>\n\n        <div className=\"flex items-center gap-2\">\n          {/* Êúà/ÈÄ±ÂàáÊèõ */}\n          {onViewChange && (\n            <div className=\"flex border rounded-lg overflow-hidden\">\n              <button\n                onClick={() => onViewChange(\"month\")}\n                className={`px-3 py-1.5 text-sm ${\n                  view === \"month\"\n                    ? \"bg-blue-600 text-white\"\n                    : \"bg-white text-gray-600 hover:bg-gray-50\"\n                }`}\n              >\n                Êúà\n              </button>\n              <button\n                onClick={() => onViewChange(\"week\")}\n                className={`px-3 py-1.5 text-sm ${\n                  view === \"week\"\n                    ? \"bg-blue-600 text-white\"\n                    : \"bg-white text-gray-600 hover:bg-gray-50\"\n                }`}\n              >\n                ÈÄ±\n              </button>\n            </div>\n          )}\n\n          {/* ‰∏ä‰∏ãÊúàÂàáÊèõ */}\n          <div className=\"flex items-center\">\n            <Button\n              variant=\"ghost\"\n              size=\"icon\"\n              onClick={handlePrevMonth}\n              className=\"h-8 w-8\"\n            >\n              <ChevronLeft className=\"h-4 w-4\" />\n            </Button>\n            <Button\n              variant=\"ghost\"\n              size=\"icon\"\n              onClick={handleNextMonth}\n              className=\"h-8 w-8\"\n            >\n              <ChevronRight className=\"h-4 w-4\" />\n            </Button>\n          </div>\n        </div>\n      </div>\n\n      {/* ÊòüÊúüÊ®ôÈ°å */}\n      <div className=\"grid grid-cols-7 mb-2\">\n        {weekDays.map((day) => (\n          <div\n            key={day}\n            className=\"text-center text-sm font-medium text-gray-500 py-2\"\n          >\n            {day}\n          </div>\n        ))}\n      </div>\n\n      {/* Êó•ÊúüÊ†ºÂ≠ê */}\n      <div className={`grid grid-cols-7 ${view === \"week\" ? \"gap-1\" : \"gap-0\"}`}>\n        {days.map((day, index) => {\n          const dayIndicators = getIndicators(day)\n          const isCurrentMonth = isSameMonth(day, currentMonth)\n          const isSelected = isSameDay(day, selectedDate)\n          const isDayToday = isToday(day)\n\n          return (\n            <button\n              key={index}\n              onClick={() => onSelectDate(day)}\n              className={`\n                relative p-2 min-h-[70px] md:min-h-[80px] border-t\n                flex flex-col items-center\n                transition-colors\n                ${!isCurrentMonth && view === \"month\" ? \"text-gray-300\" : \"text-gray-700\"}\n                ${isSelected ? \"bg-blue-50\" : \"hover:bg-gray-50\"}\n                ${isDayToday ? \"font-bold\" : \"\"}\n              `}\n            >\n              {/* Êó•ÊúüÊï∏Â≠ó */}\n              <span\n                className={`\n                  w-7 h-7 flex items-center justify-center rounded-full text-sm\n                  ${isSelected ? \"bg-blue-600 text-white\" : \"\"}\n                  ${isDayToday && !isSelected ? \"bg-gray-200\" : \"\"}\n                `}\n              >\n                {format(day, \"d\")}\n              </span>\n\n              {/* ÊåáÁ§∫Âô®ÂúìÈªû */}\n              {dayIndicators.length > 0 && (\n                <div className=\"flex flex-wrap justify-center gap-0.5 mt-1 max-w-full\">\n                  {dayIndicators.slice(0, 4).map((module, i) => (\n                    <span\n                      key={i}\n                      className={`w-1.5 h-1.5 rounded-full ${MODULE_COLORS[module]}`}\n                    />\n                  ))}\n                  {dayIndicators.length > 4 && (\n                    <span className=\"text-xs text-gray-400\">+{dayIndicators.length - 4}</span>\n                  )}\n                </div>\n              )}\n            </button>\n          )\n        })}\n      </div>\n\n      {/* Âúñ‰æã */}\n      <div className=\"mt-4 pt-4 border-t\">\n        <div className=\"flex flex-wrap gap-3 text-xs text-gray-500\">\n          <div className=\"flex items-center gap-1\">\n            <span className={`w-2 h-2 rounded-full ${MODULE_COLORS.schedule}`} />\n            <span>Ë™≤Ë°®</span>\n          </div>\n          <div className=\"flex items-center gap-1\">\n            <span className={`w-2 h-2 rounded-full ${MODULE_COLORS.tasks}`} />\n            <span>‰ªªÂãô</span>\n          </div>\n          <div className=\"flex items-center gap-1\">\n            <span className={`w-2 h-2 rounded-full ${MODULE_COLORS.habits}`} />\n            <span>ÁøíÊÖ£</span>\n          </div>\n          <div className=\"flex items-center gap-1\">\n            <span className={`w-2 h-2 rounded-full ${MODULE_COLORS.journal_life}`} />\n            <span>ÁîüÊ¥ª</span>\n          </div>\n          <div className=\"flex items-center gap-1\">\n            <span className={`w-2 h-2 rounded-full ${MODULE_COLORS.journal_learning}`} />\n            <span>Â≠∏Áøí</span>\n          </div>\n          <div className=\"flex items-center gap-1\">\n            <span className={`w-2 h-2 rounded-full ${MODULE_COLORS.journal_reading}`} />\n            <span>Èñ±ËÆÄ</span>\n          </div>\n          <div className=\"flex items-center gap-1\">\n            <span className={`w-2 h-2 rounded-full ${MODULE_COLORS.journal_gratitude}`} />\n            <span>ÊÑüÊÅ©</span>\n          </div>\n          <div className=\"flex items-center gap-1\">\n            <span className={`w-2 h-2 rounded-full ${MODULE_COLORS.finance}`} />\n            <span>Êî∂ÊîØ</span>\n          </div>\n          <div className=\"flex items-center gap-1\">\n            <span className={`w-2 h-2 rounded-full ${MODULE_COLORS.exercise}`} />\n            <span>ÈÅãÂãï</span>\n          </div>\n          <div className=\"flex items-center gap-1\">\n            <span className={`w-2 h-2 rounded-full ${MODULE_COLORS.health}`} />\n            <span>ÂÅ•Â∫∑</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 578, "column": 0}, "map": {"version":3,"sources":["file:///C:/Coding/Self_Learningv1/app/%28dashboard%29/dashboard/page.tsx"],"sourcesContent":["// app/(dashboard)/dashboard/page.tsx\n\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { format, getDay } from \"date-fns\"\nimport { zhTW } from \"date-fns/locale\"\nimport { useRouter } from \"next/navigation\"\nimport { supabase } from \"@/lib/supabaseClient\"\nimport { CalendarView, type DayIndicators, type ModuleType } from \"@/components/calendar/calendar-view\"\nimport { Button } from \"@/components/ui/button\"\nimport {\n  Calendar,\n  BookOpen,\n  CheckSquare,\n  FileText,\n  GraduationCap,\n  BookMarked,\n  Heart,\n  Wallet,\n  Dumbbell,\n  Activity,\n  Target,\n  Layers,\n  FileQuestion,\n  AlertCircle,\n  ChevronDown,\n  ChevronUp,\n  Clock,\n  MapPin,\n  User,\n  ExternalLink,\n} from \"lucide-react\"\nimport type { ScheduleSlot } from \"@/types/database.types\"\n\n// ÊôÇÊÆµÂ∞çÁÖßË°®\nconst SLOT_TIMES: Record<number, { start: string; end: string }> = {\n  1: { start: \"08:00\", end: \"08:50\" },\n  2: { start: \"09:00\", end: \"09:50\" },\n  3: { start: \"10:00\", end: \"10:50\" },\n  4: { start: \"11:00\", end: \"11:50\" },\n  5: { start: \"12:00\", end: \"12:50\" },\n  6: { start: \"13:00\", end: \"13:50\" },\n  7: { start: \"14:00\", end: \"14:50\" },\n  8: { start: \"15:00\", end: \"15:50\" },\n  9: { start: \"16:00\", end: \"16:50\" },\n  10: { start: \"17:00\", end: \"17:50\" },\n}\n\nexport default function DashboardPage() {\n  const router = useRouter()\n  const [selectedDate, setSelectedDate] = useState(new Date())\n  const [calendarView, setCalendarView] = useState<\"month\" | \"week\">(\"month\")\n  const [indicators, setIndicators] = useState<DayIndicators>({})\n  const [loading, setLoading] = useState(true)\n\n  // Â±ïÈñãÈù¢ÊùøÁãÄÊÖã\n  const [expandedModule, setExpandedModule] = useState<string | null>(null)\n  \n  // Ë™≤Ë°®Ë≥áÊñô\n  const [scheduleSlots, setScheduleSlots] = useState<ScheduleSlot[]>([])\n  const [scheduleLoading, setScheduleLoading] = useState(false)\n\n  // ËºâÂÖ•Áï∂ÊúàÁöÑË≥áÊñôÊåáÁ§∫Âô®\n  const fetchIndicators = async () => {\n    const { data: { user } } = await supabase.auth.getUser()\n    if (!user) return\n\n    // ÂèñÂæóÁï∂ÊúàÁØÑÂúçÔºàÊì¥Â±ïÂà∞ÂâçÂæåÂêÑ‰∏ÄÈÄ±‰ª•Ê∂µËìãÊó•ÊõÜÈ°ØÁ§∫Ôºâ\n    const today = new Date()\n    const startDate = new Date(today.getFullYear(), today.getMonth() - 1, 1)\n    const endDate = new Date(today.getFullYear(), today.getMonth() + 2, 0)\n\n    const startStr = format(startDate, \"yyyy-MM-dd\")\n    const endStr = format(endDate, \"yyyy-MM-dd\")\n\n    const newIndicators: DayIndicators = {}\n\n    // Êü•Ë©¢Ë™≤Ë°®ÔºàÊ†πÊìöÊòüÊúüÂπæÔºâ\n    const { data: scheduleData } = await supabase\n      .from(\"schedule_slots\")\n      .select(\"day_of_week\")\n      .eq(\"user_id\", user.id)\n\n    if (scheduleData && scheduleData.length > 0) {\n      // Ê®ôË®òÊúâË™≤ÁöÑÊòüÊúüÂπæ\n      const daysWithSchedule = new Set(scheduleData.map(s => s.day_of_week))\n      let current = new Date(startDate)\n      while (current <= endDate) {\n        const dayOfWeek = current.getDay() === 0 ? 7 : current.getDay() // ËΩâÊèõÁÇ∫ 1-7\n        if (daysWithSchedule.has(dayOfWeek)) {\n          const dateKey = format(current, \"yyyy-MM-dd\")\n          if (!newIndicators[dateKey]) newIndicators[dateKey] = []\n          newIndicators[dateKey].push(\"schedule\")\n        }\n        current.setDate(current.getDate() + 1)\n      }\n    }\n\n    // Êü•Ë©¢‰ªªÂãô\n    const { data: tasksData } = await supabase\n      .from(\"tasks\")\n      .select(\"due_date\")\n      .eq(\"user_id\", user.id)\n      .gte(\"due_date\", startStr)\n      .lte(\"due_date\", endStr)\n      .is(\"completed_at\", null)\n\n    if (tasksData) {\n      tasksData.forEach(task => {\n        if (task.due_date) {\n          const dateKey = task.due_date\n          if (!newIndicators[dateKey]) newIndicators[dateKey] = []\n          if (!newIndicators[dateKey].includes(\"tasks\")) {\n            newIndicators[dateKey].push(\"tasks\")\n          }\n        }\n      })\n    }\n\n    // Êü•Ë©¢ÁøíÊÖ£ÊâìÂç°Ë®òÈåÑ\n    const { data: habitsData } = await supabase\n      .from(\"habit_logs\")\n      .select(\"date\")\n      .eq(\"user_id\", user.id)\n      .gte(\"date\", startStr)\n      .lte(\"date\", endStr)\n\n    if (habitsData) {\n      habitsData.forEach(h => {\n        const dateKey = h.date\n        if (!newIndicators[dateKey]) newIndicators[dateKey] = []\n        if (!newIndicators[dateKey].includes(\"habits\")) {\n          newIndicators[dateKey].push(\"habits\")\n        }\n      })\n    }\n\n    // Êü•Ë©¢ÁîüÊ¥ªÊó•Ë™å\n    const { data: lifeJournals } = await supabase\n      .from(\"journals_life\")\n      .select(\"date\")\n      .eq(\"user_id\", user.id)\n      .gte(\"date\", startStr)\n      .lte(\"date\", endStr)\n\n    if (lifeJournals) {\n      lifeJournals.forEach(j => {\n        const dateKey = j.date\n        if (!newIndicators[dateKey]) newIndicators[dateKey] = []\n        if (!newIndicators[dateKey].includes(\"journal_life\")) {\n          newIndicators[dateKey].push(\"journal_life\")\n        }\n      })\n    }\n\n    // Êü•Ë©¢Â≠∏ÁøíÊó•Ë™å\n    const { data: learningJournals } = await supabase\n      .from(\"journals_learning\")\n      .select(\"date\")\n      .eq(\"user_id\", user.id)\n      .gte(\"date\", startStr)\n      .lte(\"date\", endStr)\n\n    if (learningJournals) {\n      learningJournals.forEach(j => {\n        const dateKey = j.date\n        if (!newIndicators[dateKey]) newIndicators[dateKey] = []\n        if (!newIndicators[dateKey].includes(\"journal_learning\")) {\n          newIndicators[dateKey].push(\"journal_learning\")\n        }\n      })\n    }\n\n    // Êü•Ë©¢Èñ±ËÆÄÊó•Ë™å\n    const { data: readingJournals } = await supabase\n      .from(\"journals_reading\")\n      .select(\"date\")\n      .eq(\"user_id\", user.id)\n      .gte(\"date\", startStr)\n      .lte(\"date\", endStr)\n\n    if (readingJournals) {\n      readingJournals.forEach(j => {\n        const dateKey = j.date\n        if (!newIndicators[dateKey]) newIndicators[dateKey] = []\n        if (!newIndicators[dateKey].includes(\"journal_reading\")) {\n          newIndicators[dateKey].push(\"journal_reading\")\n        }\n      })\n    }\n\n    // Êü•Ë©¢ÊÑüÊÅ©Êó•Ë™å\n    const { data: gratitudeJournals } = await supabase\n      .from(\"journals_gratitude\")\n      .select(\"date\")\n      .eq(\"user_id\", user.id)\n      .gte(\"date\", startStr)\n      .lte(\"date\", endStr)\n\n    if (gratitudeJournals) {\n      gratitudeJournals.forEach(j => {\n        const dateKey = j.date\n        if (!newIndicators[dateKey]) newIndicators[dateKey] = []\n        if (!newIndicators[dateKey].includes(\"journal_gratitude\")) {\n          newIndicators[dateKey].push(\"journal_gratitude\")\n        }\n      })\n    }\n\n    // Êü•Ë©¢Êî∂ÊîØË®òÈåÑ\n    const { data: financeData } = await supabase\n      .from(\"finance_records\")\n      .select(\"date\")\n      .eq(\"user_id\", user.id)\n      .gte(\"date\", startStr)\n      .lte(\"date\", endStr)\n\n    if (financeData) {\n      financeData.forEach(f => {\n        const dateKey = f.date\n        if (!newIndicators[dateKey]) newIndicators[dateKey] = []\n        if (!newIndicators[dateKey].includes(\"finance\")) {\n          newIndicators[dateKey].push(\"finance\")\n        }\n      })\n    }\n\n    // Êü•Ë©¢ÈÅãÂãïË®òÈåÑ\n    const { data: exerciseData } = await supabase\n      .from(\"health_exercises\")\n      .select(\"date\")\n      .eq(\"user_id\", user.id)\n      .gte(\"date\", startStr)\n      .lte(\"date\", endStr)\n\n    if (exerciseData) {\n      exerciseData.forEach(e => {\n        const dateKey = e.date\n        if (!newIndicators[dateKey]) newIndicators[dateKey] = []\n        if (!newIndicators[dateKey].includes(\"exercise\")) {\n          newIndicators[dateKey].push(\"exercise\")\n        }\n      })\n    }\n\n    // Êü•Ë©¢ÂÅ•Â∫∑Êï∏ÂÄº\n    const { data: healthData } = await supabase\n      .from(\"health_metrics\")\n      .select(\"date\")\n      .eq(\"user_id\", user.id)\n      .gte(\"date\", startStr)\n      .lte(\"date\", endStr)\n\n    if (healthData) {\n      healthData.forEach(h => {\n        const dateKey = h.date\n        if (!newIndicators[dateKey]) newIndicators[dateKey] = []\n        if (!newIndicators[dateKey].includes(\"health\")) {\n          newIndicators[dateKey].push(\"health\")\n        }\n      })\n    }\n\n    setIndicators(newIndicators)\n    setLoading(false)\n  }\n\n  // ËºâÂÖ•ÈÅ∏ÂÆöÊó•ÊúüÁöÑË™≤Ë°®\n  const fetchScheduleForDate = async (date: Date) => {\n    setScheduleLoading(true)\n    \n    const { data: { user } } = await supabase.auth.getUser()\n    if (!user) {\n      setScheduleLoading(false)\n      return\n    }\n\n    // Ë®àÁÆóÊòüÊúüÂπæÔºà1-7ÔºåÈÄ±‰∏ÄÂà∞ÈÄ±Êó•Ôºâ\n    const jsDay = getDay(date) // 0-6ÔºåÈÄ±Êó•Âà∞ÈÄ±ÂÖ≠\n    const dayOfWeek = jsDay === 0 ? 7 : jsDay\n\n    const { data } = await supabase\n      .from(\"schedule_slots\")\n      .select(\"*\")\n      .eq(\"user_id\", user.id)\n      .eq(\"day_of_week\", dayOfWeek)\n      .order(\"slot_number\", { ascending: true })\n\n    setScheduleSlots(data || [])\n    setScheduleLoading(false)\n  }\n\n  useEffect(() => {\n    fetchIndicators()\n  }, [])\n\n  // Áï∂ÈÅ∏ÂÆöÊó•ÊúüÊîπËÆäÊôÇÔºåÂ¶ÇÊûúË™≤Ë°®Èù¢ÊùøÊòØÂ±ïÈñãÁöÑÔºåÈáçÊñ∞ËºâÂÖ•\n  useEffect(() => {\n    if (expandedModule === \"schedule\") {\n      fetchScheduleForDate(selectedDate)\n    }\n  }, [selectedDate, expandedModule])\n\n  // ÈªûÊìäÊó•ÊúüÂæåÈ°ØÁ§∫ÁöÑÊ®°ÁµÑÊåâÈàï\n  const moduleButtons = [\n    { key: \"schedule\", icon: Calendar, label: \"Ë™≤Ë°®\", color: \"bg-blue-500\" },\n    { key: \"tasks\", icon: CheckSquare, label: \"‰ªªÂãô\", color: \"bg-amber-500\" },\n    { key: \"habits\", icon: Target, label: \"ÁøíÊÖ£ÊâìÂç°\", color: \"bg-cyan-500\" },\n    { key: \"journal_life\", icon: FileText, label: \"ÁîüÊ¥ªÊó•Ë™å\", color: \"bg-pink-500\" },\n    { key: \"journal_learning\", icon: GraduationCap, label: \"Â≠∏ÁøíÊó•Ë™å\", color: \"bg-purple-500\" },\n    { key: \"journal_reading\", icon: BookMarked, label: \"Èñ±ËÆÄÊó•Ë™å\", color: \"bg-green-500\" },\n    { key: \"journal_gratitude\", icon: Heart, label: \"ÊÑüÊÅ©Êó•Ë™å\", color: \"bg-yellow-500\" },\n    { key: \"finance\", icon: Wallet, label: \"Êî∂ÊîØ\", color: \"bg-emerald-500\" },\n    { key: \"exercise\", icon: Dumbbell, label: \"ÈÅãÂãï\", color: \"bg-orange-500\" },\n    { key: \"health\", icon: Activity, label: \"ÂÅ•Â∫∑\", color: \"bg-red-500\" },\n  ]\n\n  // ÂèñÂæóÈÅ∏ÂÆöÊó•ÊúüÁöÑÊåáÁ§∫Âô®\n  const selectedDateKey = format(selectedDate, \"yyyy-MM-dd\")\n  const selectedIndicators = indicators[selectedDateKey] || []\n\n  // ËôïÁêÜÊ®°ÁµÑÊåâÈàïÈªûÊìä\n  const handleModuleClick = async (moduleKey: string) => {\n    if (expandedModule === moduleKey) {\n      // Â∑≤Â±ïÈñãÂâáÊî∂Âêà\n      setExpandedModule(null)\n    } else {\n      // Â±ïÈñã‰∏¶ËºâÂÖ•Ë≥áÊñô\n      setExpandedModule(moduleKey)\n      \n      if (moduleKey === \"schedule\") {\n        await fetchScheduleForDate(selectedDate)\n      }\n      // ÂÖ∂‰ªñÊ®°ÁµÑ‰πãÂæåÊúÉÂä†ÂÖ•\n    }\n  }\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center py-12\">\n        <div className=\"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin\" />\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Êó•ÊõÜ */}\n      <CalendarView\n        selectedDate={selectedDate}\n        onSelectDate={setSelectedDate}\n        indicators={indicators}\n        view={calendarView}\n        onViewChange={setCalendarView}\n      />\n\n      {/* ÈÅ∏ÂÆöÊó•ÊúüË©≥ÊÉÖ */}\n      <div className=\"bg-white rounded-lg shadow-sm border p-4\">\n        <h3 className=\"text-lg font-semibold text-gray-800 mb-4\">\n          üìÜ {format(selectedDate, \"MÊúàdÊó• EEEE\", { locale: zhTW })}\n        </h3>\n\n        {/* Ê®°ÁµÑÊåâÈàïÁ∂≤Ê†º */}\n        <div className=\"grid grid-cols-3 md:grid-cols-5 gap-3\">\n          {moduleButtons.map((module) => {\n            const Icon = module.icon\n            const hasData = selectedIndicators.includes(module.key as ModuleType)\n            const isExpanded = expandedModule === module.key\n\n            return (\n              <button\n                key={module.key}\n                onClick={() => handleModuleClick(module.key)}\n                className={`\n                  relative flex flex-col items-center justify-center p-4 rounded-lg\n                  border-2 transition-all\n                  ${isExpanded\n                    ? \"border-blue-500 bg-blue-50 shadow-md\"\n                    : hasData \n                      ? \"border-gray-300 bg-gray-50\" \n                      : \"border-dashed border-gray-200 bg-white\"\n                  }\n                  hover:shadow-md hover:border-gray-400\n                `}\n              >\n                <div className={`w-10 h-10 rounded-full flex items-center justify-center ${module.color} bg-opacity-20`}>\n                  <Icon className={`w-5 h-5 ${module.color.replace(\"bg-\", \"text-\")}`} />\n                </div>\n                <span className=\"text-sm text-gray-700 mt-2\">{module.label}</span>\n                \n                {/* ÊúâË≥áÊñôÊåáÁ§∫ */}\n                {hasData && (\n                  <span className={`absolute top-2 right-2 w-2 h-2 rounded-full ${module.color}`} />\n                )}\n\n                {/* Â±ïÈñã/Êî∂ÂêàÊåáÁ§∫ */}\n                <span className=\"absolute bottom-1 right-1\">\n                  {isExpanded ? (\n                    <ChevronUp className=\"w-3 h-3 text-blue-500\" />\n                  ) : (\n                    <ChevronDown className=\"w-3 h-3 text-gray-400\" />\n                  )}\n                </span>\n              </button>\n            )\n          })}\n        </div>\n\n        {/* Â±ïÈñãÈù¢ÊùøÔºöË™≤Ë°® */}\n        {expandedModule === \"schedule\" && (\n          <div className=\"mt-4 p-4 bg-blue-50 rounded-lg border border-blue-200 animate-in slide-in-from-top-2 duration-200\">\n            <div className=\"flex items-center justify-between mb-3\">\n              <h4 className=\"font-semibold text-blue-800 flex items-center gap-2\">\n                <Calendar className=\"w-4 h-4\" />\n                Áï∂Êó•Ë™≤Ë°®\n              </h4>\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={() => router.push(\"/dashboard/schedule\")}\n                className=\"text-blue-600 border-blue-300 hover:bg-blue-100\"\n              >\n                <ExternalLink className=\"w-3 h-3 mr-1\" />\n                ÁÆ°ÁêÜË™≤Ë°®\n              </Button>\n            </div>\n\n            {scheduleLoading ? (\n              <div className=\"flex items-center justify-center py-8\">\n                <div className=\"w-6 h-6 border-2 border-blue-600 border-t-transparent rounded-full animate-spin\" />\n              </div>\n            ) : scheduleSlots.length === 0 ? (\n              <div className=\"text-center py-8 text-gray-500\">\n                <Calendar className=\"w-12 h-12 mx-auto mb-2 text-gray-300\" />\n                <p>ÈÄôÂ§©Ê≤íÊúâË™≤Á®ãÂÆâÊéí</p>\n                <Button\n                  variant=\"link\"\n                  onClick={() => router.push(\"/dashboard/schedule\")}\n                  className=\"text-blue-600 mt-2\"\n                >\n                  ÂéªË®≠ÂÆöË™≤Ë°®\n                </Button>\n              </div>\n            ) : (\n              <div className=\"space-y-2\">\n                {scheduleSlots.map((slot) => {\n                  const time = SLOT_TIMES[slot.slot_number]\n                  return (\n                    <div\n                      key={slot.id}\n                      className=\"flex items-center gap-3 p-3 bg-white rounded-lg border border-blue-100\"\n                    >\n                      {/* ÊôÇÈñì */}\n                      <div className=\"flex items-center gap-1 text-sm text-gray-500 w-28 shrink-0\">\n                        <Clock className=\"w-3.5 h-3.5\" />\n                        <span>{time?.start} - {time?.end}</span>\n                      </div>\n\n                      {/* ÁßëÁõÆÂêçÁ®± */}\n                      <div className=\"flex-1 font-medium text-gray-800\">\n                        {slot.subject_name}\n                      </div>\n\n                      {/* ËÄÅÂ∏´ */}\n                      {slot.teacher && (\n                        <div className=\"flex items-center gap-1 text-sm text-gray-500\">\n                          <User className=\"w-3.5 h-3.5\" />\n                          <span>{slot.teacher}</span>\n                        </div>\n                      )}\n\n                      {/* Âú∞Èªû */}\n                      {slot.location && (\n                        <div className=\"flex items-center gap-1 text-sm text-gray-500\">\n                          <MapPin className=\"w-3.5 h-3.5\" />\n                          <span>{slot.location}</span>\n                        </div>\n                      )}\n                    </div>\n                  )\n                })}\n              </div>\n            )}\n          </div>\n        )}\n\n        {/* ÂÖ∂‰ªñÊ®°ÁµÑÁöÑÂ±ïÈñãÈù¢ÊùøÔºà‰πãÂæåÂØ¶‰ΩúÔºâ */}\n        {expandedModule && expandedModule !== \"schedule\" && (\n          <div className=\"mt-4 p-4 bg-gray-50 rounded-lg border border-gray-200\">\n            <p className=\"text-center text-gray-500\">\n              {moduleButtons.find(m => m.key === expandedModule)?.label} ÂäüËÉΩÈñãÁôº‰∏≠...\n            </p>\n          </div>\n        )}\n\n        {/* ÊèêÁ§∫ÊñáÂ≠ó */}\n        {!expandedModule && (\n          <p className=\"text-sm text-gray-500 mt-4 text-center\">\n            ÈªûÊìä‰∏äÊñπÊåâÈàïÊü•ÁúãÊàñÁ∑®ËºØË©≤Êó•ÁöÑË®òÈåÑ\n          </p>\n        )}\n      </div>\n\n      {/* Â≠∏ÁøíÂπ≥Âè∞Âø´ÈÄüÂÖ•Âè£ */}\n      <div className=\"bg-white rounded-lg shadow-sm border p-4\">\n        <h3 className=\"text-lg font-semibold text-gray-800 mb-4\">\n          üìö Â≠∏ÁøíÂπ≥Âè∞\n        </h3>\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\n          <button\n            onClick={() => router.push(\"/dashboard/subjects\")}\n            className=\"flex flex-col items-center justify-center p-4 rounded-lg border-2 border-blue-200 bg-blue-50 hover:bg-blue-100 hover:border-blue-300 transition-all\"\n          >\n            <div className=\"w-12 h-12 rounded-full flex items-center justify-center bg-blue-500\">\n              <BookOpen className=\"w-6 h-6 text-white\" />\n            </div>\n            <span className=\"text-sm font-medium text-gray-700 mt-2\">ÈáçÈªûÊï¥ÁêÜ</span>\n          </button>\n\n          <button\n            onClick={() => router.push(\"/dashboard/practice\")}\n            className=\"flex flex-col items-center justify-center p-4 rounded-lg border-2 border-green-200 bg-green-50 hover:bg-green-100 hover:border-green-300 transition-all\"\n          >\n            <div className=\"w-12 h-12 rounded-full flex items-center justify-center bg-green-500\">\n              <FileQuestion className=\"w-6 h-6 text-white\" />\n            </div>\n            <span className=\"text-sm font-medium text-gray-700 mt-2\">È°åÂ∫´Á∑¥Áøí</span>\n          </button>\n\n          <button\n            onClick={() => router.push(\"/dashboard/mistakes\")}\n            className=\"flex flex-col items-center justify-center p-4 rounded-lg border-2 border-amber-200 bg-amber-50 hover:bg-amber-100 hover:border-amber-300 transition-all\"\n          >\n            <div className=\"w-12 h-12 rounded-full flex items-center justify-center bg-amber-500\">\n              <AlertCircle className=\"w-6 h-6 text-white\" />\n            </div>\n            <span className=\"text-sm font-medium text-gray-700 mt-2\">ÈåØÈ°åÊú¨</span>\n          </button>\n\n          <button\n            onClick={() => router.push(\"/dashboard/flashcards\")}\n            className=\"flex flex-col items-center justify-center p-4 rounded-lg border-2 border-purple-200 bg-purple-50 hover:bg-purple-100 hover:border-purple-300 transition-all\"\n          >\n            <div className=\"w-12 h-12 rounded-full flex items-center justify-center bg-purple-500\">\n              <Layers className=\"w-6 h-6 text-white\" />\n            </div>\n            <span className=\"text-sm font-medium text-gray-700 mt-2\">Ë®òÊÜ∂Âç°Áâá</span>\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}