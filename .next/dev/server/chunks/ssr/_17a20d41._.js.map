{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Coding/Self_Learningv1/components/ui/card.tsx"],"sourcesContent":["// components/ui/card.tsx\nimport * as React from \"react\"\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h3\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <p\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":"AAAA,yBAAyB;;;;;;;;;;;;;;;;AACzB;AACA;;;;AAEA,MAAM,qBAAO,mNAAgB,CAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,4DACA;QAED,GAAG,KAAK;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,mNAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,sDACA;QAED,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,mNAAgB,CAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QAAI,KAAK;QAAK,WAAW,IAAA,kHAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 90, "column": 0}, "map": {"version":3,"sources":["file:///C:/Coding/Self_Learningv1/app/%28dashboard%29/dashboard/page.tsx"],"sourcesContent":["// app/(dashboard)/dashboard/page.tsx\n\"use client\"\n\nimport { useEffect, useState } from \"react\"\nimport { supabase } from \"@/lib/supabaseClient\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { BookOpen, FileQuestion, XCircle, Lightbulb } from \"lucide-react\"\n\nexport default function DashboardPage() {\n  const [userName, setUserName] = useState<string>(\"\")\n  const [loading, setLoading] = useState(true)\n  const [stats, setStats] = useState({\n    subjects: 0,\n    questions: 0,\n    wrongQuestions: 0,\n    flashcards: 0,\n  })\n\n  useEffect(() => {\n    const fetchData = async () => {\n      // 取得用戶資訊\n      const { data: { user } } = await supabase.auth.getUser()\n      if (!user) return\n\n      setUserName(user.user_metadata?.full_name || \"同學\")\n\n      // 取得科目數量\n      const { count: subjectsCount } = await supabase\n        .from(\"subjects\")\n        .select(\"*\", { count: \"exact\", head: true })\n        .eq(\"user_id\", user.id)\n\n      // 取得題目數量\n      const { count: questionsCount } = await supabase\n        .from(\"questions\")\n        .select(\"*\", { count: \"exact\", head: true })\n        .eq(\"user_id\", user.id)\n\n      // 取得待複習題目數量（答錯過或標記複習的）\n      const { count: wrongCount } = await supabase\n        .from(\"questions\")\n        .select(\"*\", { count: \"exact\", head: true })\n        .eq(\"user_id\", user.id)\n        .or(\"wrong_count.gt.0,marked_for_review.eq.true\")\n\n      // 取得記憶卡片數量\n      const { count: flashcardsCount } = await supabase\n        .from(\"flashcards\")\n        .select(\"*\", { count: \"exact\", head: true })\n        .eq(\"user_id\", user.id)\n\n      setStats({\n        subjects: subjectsCount || 0,\n        questions: questionsCount || 0,\n        wrongQuestions: wrongCount || 0,\n        flashcards: flashcardsCount || 0,\n      })\n\n      setLoading(false)\n    }\n\n    fetchData()\n  }, [])\n\n  const statCards = [\n    {\n      title: \"科目數\",\n      value: stats.subjects,\n      icon: BookOpen,\n      color: \"text-blue-600\",\n      bgColor: \"bg-blue-100\",\n    },\n    {\n      title: \"題目數\",\n      value: stats.questions,\n      icon: FileQuestion,\n      color: \"text-green-600\",\n      bgColor: \"bg-green-100\",\n    },\n    {\n      title: \"待複習\",\n      value: stats.wrongQuestions,\n      icon: XCircle,\n      color: \"text-red-600\",\n      bgColor: \"bg-red-100\",\n    },\n    {\n      title: \"記憶卡片\",\n      value: stats.flashcards,\n      icon: Lightbulb,\n      color: \"text-amber-600\",\n      bgColor: \"bg-amber-100\",\n    },\n  ]\n\n  return (\n    <div className=\"space-y-6\">\n      {/* 歡迎區 */}\n      <div>\n        <h1 className=\"text-2xl font-bold text-gray-800\">\n          嗨，{userName}！\n        </h1>\n        <p className=\"text-gray-600 mt-1\">\n          今天想要學習什麼呢？\n        </p>\n      </div>\n\n      {/* 統計卡片 */}\n      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n        {statCards.map((stat) => (\n          <Card key={stat.title}>\n            <CardHeader className=\"flex flex-row items-center justify-between pb-2\">\n              <CardTitle className=\"text-sm font-medium text-gray-600\">\n                {stat.title}\n              </CardTitle>\n              <div className={`w-8 h-8 ${stat.bgColor} rounded-lg flex items-center justify-center`}>\n                <stat.icon className={`w-4 h-4 ${stat.color}`} />\n              </div>\n            </CardHeader>\n            <CardContent>\n              {loading ? (\n                <div className=\"h-8 w-12 bg-gray-200 animate-pulse rounded\" />\n              ) : (\n                <div className=\"text-2xl font-bold\">{stat.value}</div>\n              )}\n            </CardContent>\n          </Card>\n        ))}\n      </div>\n\n      {/* 快速開始 */}\n      <Card>\n        <CardHeader>\n          <CardTitle>快速開始</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4\">\n            <QuickStartCard\n              href=\"/dashboard/subjects\"\n              icon={BookOpen}\n              title=\"學習內容\"\n              description=\"管理你的學習內容\"\n              color=\"blue\"\n            />\n            <QuickStartCard\n              href=\"/dashboard/practice\"\n              icon={FileQuestion}\n              title=\"開始練習\"\n              description=\"練習題目測驗\"\n              color=\"green\"\n            />\n            <QuickStartCard\n              href=\"/dashboard/mistakes\"\n              icon={XCircle}\n              title=\"複習錯題\"\n              description=\"回顧答錯的題目\"\n              color=\"red\"\n            />\n            <QuickStartCard\n              href=\"/dashboard/flashcards\"\n              icon={Lightbulb}\n              title=\"記憶卡片\"\n              description=\"間隔重複學習\"\n              color=\"amber\"\n            />\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n\nfunction QuickStartCard({\n  href,\n  icon: Icon,\n  title,\n  description,\n  color,\n}: {\n  href: string\n  icon: React.ElementType\n  title: string\n  description: string\n  color: \"blue\" | \"green\" | \"red\" | \"amber\"\n}) {\n  const colorClasses = {\n    blue: \"border-blue-200 hover:border-blue-400 hover:bg-blue-50\",\n    green: \"border-green-200 hover:border-green-400 hover:bg-green-50\",\n    red: \"border-red-200 hover:border-red-400 hover:bg-red-50\",\n    amber: \"border-amber-200 hover:border-amber-400 hover:bg-amber-50\",\n  }\n\n  const iconColorClasses = {\n    blue: \"text-blue-600\",\n    green: \"text-green-600\",\n    red: \"text-red-600\",\n    amber: \"text-amber-600\",\n  }\n\n  return (\n    <a\n      href={href}\n      className={`block p-4 border-2 rounded-lg transition-colors ${colorClasses[color]}`}\n    >\n      <Icon className={`w-6 h-6 ${iconColorClasses[color]} mb-2`} />\n      <h3 className=\"font-semibold text-gray-800\">{title}</h3>\n      <p className=\"text-sm text-gray-600\">{description}</p>\n    </a>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}