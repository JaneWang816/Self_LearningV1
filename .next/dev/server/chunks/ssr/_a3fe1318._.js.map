{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Coding/Self_Learningv1/components/ui/card.tsx"],"sourcesContent":["// components/ui/card.tsx\nimport * as React from \"react\"\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h3\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <p\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":"AAAA,yBAAyB;;;;;;;;;;;;;;;;AACzB;AACA;;;;AAEA,MAAM,qBAAO,mNAAgB,CAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,4DACA;QAED,GAAG,KAAK;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,mNAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,sDACA;QAED,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,mNAAgB,CAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QAAI,KAAK;QAAK,WAAW,IAAA,kHAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 90, "column": 0}, "map": {"version":3,"sources":["file:///C:/Coding/Self_Learningv1/components/ui/label.tsx"],"sourcesContent":["// components/ui/label.tsx\n\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n"],"names":[],"mappings":"AAAA,0BAA0B;;;;;;AAG1B;AACA;AACA;AACA;AALA;;;;;;AAOA,MAAM,gBAAgB,IAAA,uKAAG,EACvB;AAGF,MAAM,sBAAQ,mNAAgB,CAI5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,yKAAmB;QAClB,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,iBAAiB;QAC9B,GAAG,KAAK;;;;;;AAGb,MAAM,WAAW,GAAG,yKAAmB,CAAC,WAAW"}},
    {"offset": {"line": 122, "column": 0}, "map": {"version":3,"sources":["file:///C:/Coding/Self_Learningv1/components/ui/textarea.tsx"],"sourcesContent":["// components/ui/textarea.tsx\nimport * as React from \"react\"\nimport { cn } from \"@/lib/utils\"\n\nexport interface TextareaProps\n  extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {}\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(\n  ({ className, ...props }, ref) => {\n    return (\n      <textarea\n        className={cn(\n          \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n"],"names":[],"mappings":"AAAA,6BAA6B;;;;;;AAC7B;AACA;;;;AAKA,MAAM,yBAAW,mNAAgB,CAC/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IACxB,qBACE,8OAAC;QACC,WAAW,IAAA,kHAAE,EACX,wSACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,SAAS,WAAW,GAAG"}},
    {"offset": {"line": 150, "column": 0}, "map": {"version":3,"sources":["file:///C:/Coding/Self_Learningv1/components/ui/dialog.tsx"],"sourcesContent":["// components/ui/dialog.tsx\n\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n"],"names":[],"mappings":"AAAA,2BAA2B;;;;;;;;;;;;;;;;;;;;;;;;AAG3B;AACA;AACA;AACA;AALA;;;;;;AAOA,MAAM,SAAS,0KAAoB;AAEnC,MAAM,gBAAgB,6KAAuB;AAE7C,MAAM,eAAe,4KAAsB;AAE3C,MAAM,cAAc,2KAAqB;AAEzC,MAAM,8BAAgB,mNAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,6KAAuB;QACtB,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;AAGb,cAAc,WAAW,GAAG,6KAAuB,CAAC,WAAW;AAE/D,MAAM,8BAAgB,mNAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,8OAAC;;0BACC,8OAAC;;;;;0BACD,8OAAC,6KAAuB;gBACtB,KAAK;gBACL,WAAW,IAAA,kHAAE,EACX,+fACA;gBAED,GAAG,KAAK;;oBAER;kCACD,8OAAC,2KAAqB;wBAAC,WAAU;;0CAC/B,8OAAC,iMAAC;gCAAC,WAAU;;;;;;0CACb,8OAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,cAAc,WAAW,GAAG,6KAAuB,CAAC,WAAW;AAE/D,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,IAAA,kHAAE,EACX,sDACA;QAED,GAAG,KAAK;;;;;;AAGb,aAAa,WAAW,GAAG;AAE3B,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,IAAA,kHAAE,EACX,iEACA;QAED,GAAG,KAAK;;;;;;AAGb,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,2KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,qDACA;QAED,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,2KAAqB,CAAC,WAAW;AAE3D,MAAM,kCAAoB,mNAAgB,CAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,iLAA2B;QAC1B,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,kBAAkB,WAAW,GAAG,iLAA2B,CAAC,WAAW"}},
    {"offset": {"line": 291, "column": 0}, "map": {"version":3,"sources":["file:///C:/Coding/Self_Learningv1/components/ui/alert-dialog.tsx"],"sourcesContent":["// components/ui/alert-dialog.tsx\n\"use client\"\n\nimport * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n"],"names":[],"mappings":"AAAA,iCAAiC;;;;;;;;;;;;;;;;;;;;;;;;;;AAGjC;AACA;AACA;AACA;AALA;;;;;;AAOA,MAAM,cAAc,mLAAyB;AAE7C,MAAM,qBAAqB,sLAA4B;AAEvD,MAAM,oBAAoB,qLAA2B;AAErD,MAAM,mCAAqB,mNAAgB,CAGzC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,sLAA4B;QAC3B,WAAW,IAAA,kHAAE,EACX,0JACA;QAED,GAAG,KAAK;QACT,KAAK;;;;;;AAGT,mBAAmB,WAAW,GAAG,sLAA4B,CAAC,WAAW;AAEzE,MAAM,mCAAqB,mNAAgB,CAGzC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;;0BACC,8OAAC;;;;;0BACD,8OAAC,sLAA4B;gBAC3B,KAAK;gBACL,WAAW,IAAA,kHAAE,EACX,+fACA;gBAED,GAAG,KAAK;;;;;;;;;;;;AAIf,mBAAmB,WAAW,GAAG,sLAA4B,CAAC,WAAW;AAEzE,MAAM,oBAAoB,CAAC,EACzB,SAAS,EACT,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,IAAA,kHAAE,EACX,oDACA;QAED,GAAG,KAAK;;;;;;AAGb,kBAAkB,WAAW,GAAG;AAEhC,MAAM,oBAAoB,CAAC,EACzB,SAAS,EACT,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,IAAA,kHAAE,EACX,iEACA;QAED,GAAG,KAAK;;;;;;AAGb,kBAAkB,WAAW,GAAG;AAEhC,MAAM,iCAAmB,mNAAgB,CAGvC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,oLAA0B;QACzB,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,yBAAyB;QACtC,GAAG,KAAK;;;;;;AAGb,iBAAiB,WAAW,GAAG,oLAA0B,CAAC,WAAW;AAErE,MAAM,uCAAyB,mNAAgB,CAG7C,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,0LAAgC;QAC/B,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,uBAAuB,WAAW,GAChC,0LAAgC,CAAC,WAAW;AAE9C,MAAM,kCAAoB,mNAAgB,CAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,qLAA2B;QAC1B,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,IAAA,6IAAc,KAAI;QAC/B,GAAG,KAAK;;;;;;AAGb,kBAAkB,WAAW,GAAG,qLAA2B,CAAC,WAAW;AAEvE,MAAM,kCAAoB,mNAAgB,CAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,qLAA2B;QAC1B,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,IAAA,6IAAc,EAAC;YAAE,SAAS;QAAU,IACpC,gBACA;QAED,GAAG,KAAK;;;;;;AAGb,kBAAkB,WAAW,GAAG,qLAA2B,CAAC,WAAW"}},
    {"offset": {"line": 428, "column": 0}, "map": {"version":3,"sources":["file:///C:/Coding/Self_Learningv1/components/flashcards/flashcard-import.tsx"],"sourcesContent":["// components/flashcards/flashcard-import.tsx\n\"use client\"\n\nimport { useState, useRef } from \"react\"\nimport { supabase } from \"@/lib/supabaseClient\"\nimport { Button } from \"@/components/ui/button\"\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\"\nimport {\n  Upload,\n  Download,\n  FileText,\n  CheckCircle,\n  XCircle,\n  AlertCircle,\n} from \"lucide-react\"\n\ninterface FlashcardImportProps {\n  open: boolean\n  onOpenChange: (open: boolean) => void\n  onSuccess: () => void\n  deckId: string\n}\n\ninterface ParsedCard {\n  front: string\n  back: string\n  valid: boolean\n  error?: string\n}\n\nexport function FlashcardImport({\n  open,\n  onOpenChange,\n  onSuccess,\n  deckId,\n}: FlashcardImportProps) {\n  const fileInputRef = useRef<HTMLInputElement>(null)\n  const [file, setFile] = useState<File | null>(null)\n  const [parsedCards, setParsedCards] = useState<ParsedCard[]>([])\n  const [importing, setImporting] = useState(false)\n  const [step, setStep] = useState<\"upload\" | \"preview\" | \"done\">(\"upload\")\n  const [importResult, setImportResult] = useState({ success: 0, failed: 0 })\n\n  // 下載範本\n  const downloadTemplate = () => {\n    const template = `正面,背面\napple,蘋果\nbook,書本\ncomputer,電腦\n\"Hello, how are you?\",你好，你好嗎？\n光合作用的產物是什麼？,葡萄糖和氧氣`\n\n    const blob = new Blob([\"\\uFEFF\" + template], { type: \"text/csv;charset=utf-8\" })\n    const url = URL.createObjectURL(blob)\n    const a = document.createElement(\"a\")\n    a.href = url\n    a.download = \"flashcards-template.csv\"\n    a.click()\n    URL.revokeObjectURL(url)\n  }\n\n  // 解析 CSV\n  const parseCSV = (text: string): ParsedCard[] => {\n    const lines = text.split(/\\r?\\n/).filter((line) => line.trim())\n    const cards: ParsedCard[] = []\n\n    // 跳過標題行\n    for (let i = 1; i < lines.length; i++) {\n      const line = lines[i].trim()\n      if (!line) continue\n\n      // 解析 CSV（支援引號包裹的欄位）\n      const values = parseCSVLine(line)\n\n      if (values.length < 2) {\n        cards.push({\n          front: values[0] || \"\",\n          back: \"\",\n          valid: false,\n          error: \"格式錯誤：缺少背面內容\",\n        })\n        continue\n      }\n\n      const front = values[0].trim()\n      const back = values[1].trim()\n\n      if (!front) {\n        cards.push({\n          front,\n          back,\n          valid: false,\n          error: \"正面不能為空\",\n        })\n        continue\n      }\n\n      if (!back) {\n        cards.push({\n          front,\n          back,\n          valid: false,\n          error: \"背面不能為空\",\n        })\n        continue\n      }\n\n      cards.push({\n        front,\n        back,\n        valid: true,\n      })\n    }\n\n    return cards\n  }\n\n  // 解析單行 CSV（處理引號）\n  const parseCSVLine = (line: string): string[] => {\n    const result: string[] = []\n    let current = \"\"\n    let inQuotes = false\n\n    for (let i = 0; i < line.length; i++) {\n      const char = line[i]\n      const nextChar = line[i + 1]\n\n      if (char === '\"') {\n        if (inQuotes && nextChar === '\"') {\n          // 轉義的引號\n          current += '\"'\n          i++\n        } else {\n          // 切換引號狀態\n          inQuotes = !inQuotes\n        }\n      } else if (char === \",\" && !inQuotes) {\n        result.push(current)\n        current = \"\"\n      } else {\n        current += char\n      }\n    }\n    result.push(current)\n\n    return result\n  }\n\n  // 處理檔案上傳\n  const handleFileChange = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    const selectedFile = e.target.files?.[0]\n    if (!selectedFile) return\n\n    setFile(selectedFile)\n\n    // 讀取檔案\n    const reader = new FileReader()\n    reader.onload = (event) => {\n      const text = event.target?.result as string\n      const cards = parseCSV(text)\n      setParsedCards(cards)\n      setStep(\"preview\")\n    }\n    reader.readAsText(selectedFile, \"UTF-8\")\n  }\n\n  // 執行匯入\n  const handleImport = async () => {\n    const validCards = parsedCards.filter((c) => c.valid)\n    if (validCards.length === 0) return\n\n    setImporting(true)\n\n    const { data: { user } } = await supabase.auth.getUser()\n    if (!user) {\n      setImporting(false)\n      return\n    }\n\n    let success = 0\n    let failed = 0\n\n    // 批次插入\n    const cardsToInsert = validCards.map((card) => ({\n      user_id: user.id,\n      deck_id: deckId,\n      front: card.front,\n      back: card.back,\n      next_review_at: new Date().toISOString(),\n      interval: 0,\n      ease_factor: 2.5,\n      repetition_count: 0,\n    }))\n\n    const { error } = await supabase\n      .from(\"flashcards\")\n      .insert(cardsToInsert)\n\n    if (error) {\n      failed = validCards.length\n    } else {\n      success = validCards.length\n    }\n\n    setImportResult({ success, failed })\n    setImporting(false)\n    setStep(\"done\")\n  }\n\n  // 重置狀態\n  const resetState = () => {\n    setFile(null)\n    setParsedCards([])\n    setStep(\"upload\")\n    setImportResult({ success: 0, failed: 0 })\n    if (fileInputRef.current) {\n      fileInputRef.current.value = \"\"\n    }\n  }\n\n  // 關閉對話框\n  const handleClose = () => {\n    if (step === \"done\") {\n      onSuccess()\n    }\n    resetState()\n    onOpenChange(false)\n  }\n\n  const validCount = parsedCards.filter((c) => c.valid).length\n  const invalidCount = parsedCards.filter((c) => !c.valid).length\n\n  return (\n    <Dialog open={open} onOpenChange={handleClose}>\n      <DialogContent className=\"sm:max-w-[600px] max-h-[80vh] overflow-y-auto\">\n        <DialogHeader>\n          <DialogTitle>批次匯入卡片</DialogTitle>\n          <DialogDescription>\n            上傳 CSV 檔案批次新增記憶卡片\n          </DialogDescription>\n        </DialogHeader>\n\n        {/* 步驟一：上傳 */}\n        {step === \"upload\" && (\n          <div className=\"space-y-4 py-4\">\n            {/* 範本下載 */}\n            <div className=\"flex items-center justify-between p-4 bg-blue-50 rounded-lg\">\n              <div className=\"flex items-center gap-3\">\n                <FileText className=\"w-5 h-5 text-blue-600\" />\n                <div>\n                  <p className=\"font-medium text-blue-800\">CSV 範本</p>\n                  <p className=\"text-sm text-blue-600\">\n                    下載範本檔案查看格式\n                  </p>\n                </div>\n              </div>\n              <Button variant=\"outline\" size=\"sm\" onClick={downloadTemplate}>\n                <Download className=\"w-4 h-4 mr-2\" />\n                下載範本\n              </Button>\n            </div>\n\n            {/* 格式說明 */}\n            <div className=\"p-4 bg-gray-50 rounded-lg\">\n              <p className=\"font-medium text-gray-800 mb-2\">CSV 格式說明</p>\n              <ul className=\"text-sm text-gray-600 space-y-1\">\n                <li>• 第一行為標題：正面,背面</li>\n                <li>• 每行一張卡片</li>\n                <li>• 內容含逗號請用引號包裹</li>\n                <li>• 編碼請使用 UTF-8</li>\n              </ul>\n            </div>\n\n            {/* 上傳區域 */}\n            <div\n              className=\"border-2 border-dashed rounded-lg p-8 text-center cursor-pointer hover:border-blue-400 transition-colors\"\n              onClick={() => fileInputRef.current?.click()}\n            >\n              <Upload className=\"w-10 h-10 text-gray-400 mx-auto mb-3\" />\n              <p className=\"text-gray-600 mb-1\">點擊或拖曳檔案到此處</p>\n              <p className=\"text-sm text-gray-400\">支援 .csv 檔案</p>\n              <input\n                ref={fileInputRef}\n                type=\"file\"\n                accept=\".csv\"\n                className=\"hidden\"\n                onChange={handleFileChange}\n              />\n            </div>\n          </div>\n        )}\n\n        {/* 步驟二：預覽 */}\n        {step === \"preview\" && (\n          <div className=\"space-y-4 py-4\">\n            {/* 統計 */}\n            <div className=\"flex items-center gap-4\">\n              <div className=\"flex items-center gap-2\">\n                <CheckCircle className=\"w-5 h-5 text-green-500\" />\n                <span className=\"text-green-700\">{validCount} 張有效</span>\n              </div>\n              {invalidCount > 0 && (\n                <div className=\"flex items-center gap-2\">\n                  <XCircle className=\"w-5 h-5 text-red-500\" />\n                  <span className=\"text-red-700\">{invalidCount} 張無效</span>\n                </div>\n              )}\n            </div>\n\n            {/* 預覽表格 */}\n            <div className=\"border rounded-lg max-h-[300px] overflow-y-auto\">\n              <table className=\"w-full text-sm\">\n                <thead className=\"bg-gray-50 sticky top-0\">\n                  <tr>\n                    <th className=\"px-3 py-2 text-left font-medium text-gray-600 w-10\">\n                      #\n                    </th>\n                    <th className=\"px-3 py-2 text-left font-medium text-gray-600\">\n                      正面\n                    </th>\n                    <th className=\"px-3 py-2 text-left font-medium text-gray-600\">\n                      背面\n                    </th>\n                    <th className=\"px-3 py-2 text-left font-medium text-gray-600 w-20\">\n                      狀態\n                    </th>\n                  </tr>\n                </thead>\n                <tbody className=\"divide-y\">\n                  {parsedCards.map((card, index) => (\n                    <tr\n                      key={index}\n                      className={card.valid ? \"\" : \"bg-red-50\"}\n                    >\n                      <td className=\"px-3 py-2 text-gray-500\">{index + 1}</td>\n                      <td className=\"px-3 py-2\">\n                        <span className=\"line-clamp-2\">{card.front}</span>\n                      </td>\n                      <td className=\"px-3 py-2\">\n                        <span className=\"line-clamp-2\">{card.back}</span>\n                      </td>\n                      <td className=\"px-3 py-2\">\n                        {card.valid ? (\n                          <CheckCircle className=\"w-4 h-4 text-green-500\" />\n                        ) : (\n                          <span\n                            className=\"text-red-500 text-xs\"\n                            title={card.error}\n                          >\n                            <XCircle className=\"w-4 h-4\" />\n                          </span>\n                        )}\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n\n            {/* 無效項目警告 */}\n            {invalidCount > 0 && (\n              <div className=\"flex items-start gap-2 p-3 bg-amber-50 rounded-lg\">\n                <AlertCircle className=\"w-5 h-5 text-amber-500 shrink-0 mt-0.5\" />\n                <div className=\"text-sm text-amber-700\">\n                  有 {invalidCount} 張卡片格式錯誤，將不會被匯入。\n                </div>\n              </div>\n            )}\n          </div>\n        )}\n\n        {/* 步驟三：完成 */}\n        {step === \"done\" && (\n          <div className=\"py-8 text-center\">\n            <div className=\"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n              <CheckCircle className=\"w-8 h-8 text-green-600\" />\n            </div>\n            <h3 className=\"text-lg font-semibold text-gray-800 mb-2\">\n              匯入完成！\n            </h3>\n            <p className=\"text-gray-600\">\n              成功匯入 {importResult.success} 張卡片\n              {importResult.failed > 0 && (\n                <span className=\"text-red-600\">\n                  ，{importResult.failed} 張失敗\n                </span>\n              )}\n            </p>\n          </div>\n        )}\n\n        <DialogFooter>\n          {step === \"upload\" && (\n            <Button variant=\"outline\" onClick={handleClose}>\n              取消\n            </Button>\n          )}\n\n          {step === \"preview\" && (\n            <>\n              <Button variant=\"outline\" onClick={resetState}>\n                重新選擇\n              </Button>\n              <Button\n                onClick={handleImport}\n                disabled={validCount === 0 || importing}\n                className=\"bg-blue-600 hover:bg-blue-700\"\n              >\n                {importing ? \"匯入中...\" : `匯入 ${validCount} 張卡片`}\n              </Button>\n            </>\n          )}\n\n          {step === \"done\" && (\n            <Button\n              onClick={handleClose}\n              className=\"bg-blue-600 hover:bg-blue-700\"\n            >\n              完成\n            </Button>\n          )}\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  )\n}\n"],"names":[],"mappings":"AAAA,6CAA6C;;;;;;AAG7C;AACA;AACA;AACA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAbA;;;;;;;AAoCO,SAAS,gBAAgB,EAC9B,IAAI,EACJ,YAAY,EACZ,SAAS,EACT,MAAM,EACe;IACrB,MAAM,eAAe,IAAA,+MAAM,EAAmB;IAC9C,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAc;IAC9C,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAe,EAAE;IAC/D,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAC3C,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAgC;IAChE,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAC;QAAE,SAAS;QAAG,QAAQ;IAAE;IAEzE,OAAO;IACP,MAAM,mBAAmB;QACvB,MAAM,WAAW,CAAC;;;;;kBAKJ,CAAC;QAEf,MAAM,OAAO,IAAI,KAAK;YAAC,WAAW;SAAS,EAAE;YAAE,MAAM;QAAyB;QAC9E,MAAM,MAAM,IAAI,eAAe,CAAC;QAChC,MAAM,IAAI,SAAS,aAAa,CAAC;QACjC,EAAE,IAAI,GAAG;QACT,EAAE,QAAQ,GAAG;QACb,EAAE,KAAK;QACP,IAAI,eAAe,CAAC;IACtB;IAEA,SAAS;IACT,MAAM,WAAW,CAAC;QAChB,MAAM,QAAQ,KAAK,KAAK,CAAC,SAAS,MAAM,CAAC,CAAC,OAAS,KAAK,IAAI;QAC5D,MAAM,QAAsB,EAAE;QAE9B,QAAQ;QACR,IAAK,IAAI,IAAI,GAAG,IAAI,MAAM,MAAM,EAAE,IAAK;YACrC,MAAM,OAAO,KAAK,CAAC,EAAE,CAAC,IAAI;YAC1B,IAAI,CAAC,MAAM;YAEX,oBAAoB;YACpB,MAAM,SAAS,aAAa;YAE5B,IAAI,OAAO,MAAM,GAAG,GAAG;gBACrB,MAAM,IAAI,CAAC;oBACT,OAAO,MAAM,CAAC,EAAE,IAAI;oBACpB,MAAM;oBACN,OAAO;oBACP,OAAO;gBACT;gBACA;YACF;YAEA,MAAM,QAAQ,MAAM,CAAC,EAAE,CAAC,IAAI;YAC5B,MAAM,OAAO,MAAM,CAAC,EAAE,CAAC,IAAI;YAE3B,IAAI,CAAC,OAAO;gBACV,MAAM,IAAI,CAAC;oBACT;oBACA;oBACA,OAAO;oBACP,OAAO;gBACT;gBACA;YACF;YAEA,IAAI,CAAC,MAAM;gBACT,MAAM,IAAI,CAAC;oBACT;oBACA;oBACA,OAAO;oBACP,OAAO;gBACT;gBACA;YACF;YAEA,MAAM,IAAI,CAAC;gBACT;gBACA;gBACA,OAAO;YACT;QACF;QAEA,OAAO;IACT;IAEA,iBAAiB;IACjB,MAAM,eAAe,CAAC;QACpB,MAAM,SAAmB,EAAE;QAC3B,IAAI,UAAU;QACd,IAAI,WAAW;QAEf,IAAK,IAAI,IAAI,GAAG,IAAI,KAAK,MAAM,EAAE,IAAK;YACpC,MAAM,OAAO,IAAI,CAAC,EAAE;YACpB,MAAM,WAAW,IAAI,CAAC,IAAI,EAAE;YAE5B,IAAI,SAAS,KAAK;gBAChB,IAAI,YAAY,aAAa,KAAK;oBAChC,QAAQ;oBACR,WAAW;oBACX;gBACF,OAAO;oBACL,SAAS;oBACT,WAAW,CAAC;gBACd;YACF,OAAO,IAAI,SAAS,OAAO,CAAC,UAAU;gBACpC,OAAO,IAAI,CAAC;gBACZ,UAAU;YACZ,OAAO;gBACL,WAAW;YACb;QACF;QACA,OAAO,IAAI,CAAC;QAEZ,OAAO;IACT;IAEA,SAAS;IACT,MAAM,mBAAmB,OAAO;QAC9B,MAAM,eAAe,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE;QACxC,IAAI,CAAC,cAAc;QAEnB,QAAQ;QAER,OAAO;QACP,MAAM,SAAS,IAAI;QACnB,OAAO,MAAM,GAAG,CAAC;YACf,MAAM,OAAO,MAAM,MAAM,EAAE;YAC3B,MAAM,QAAQ,SAAS;YACvB,eAAe;YACf,QAAQ;QACV;QACA,OAAO,UAAU,CAAC,cAAc;IAClC;IAEA,OAAO;IACP,MAAM,eAAe;QACnB,MAAM,aAAa,YAAY,MAAM,CAAC,CAAC,IAAM,EAAE,KAAK;QACpD,IAAI,WAAW,MAAM,KAAK,GAAG;QAE7B,aAAa;QAEb,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,GAAG,MAAM,iIAAQ,CAAC,IAAI,CAAC,OAAO;QACtD,IAAI,CAAC,MAAM;YACT,aAAa;YACb;QACF;QAEA,IAAI,UAAU;QACd,IAAI,SAAS;QAEb,OAAO;QACP,MAAM,gBAAgB,WAAW,GAAG,CAAC,CAAC,OAAS,CAAC;gBAC9C,SAAS,KAAK,EAAE;gBAChB,SAAS;gBACT,OAAO,KAAK,KAAK;gBACjB,MAAM,KAAK,IAAI;gBACf,gBAAgB,IAAI,OAAO,WAAW;gBACtC,UAAU;gBACV,aAAa;gBACb,kBAAkB;YACpB,CAAC;QAED,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,iIAAQ,CAC7B,IAAI,CAAC,cACL,MAAM,CAAC;QAEV,IAAI,OAAO;YACT,SAAS,WAAW,MAAM;QAC5B,OAAO;YACL,UAAU,WAAW,MAAM;QAC7B;QAEA,gBAAgB;YAAE;YAAS;QAAO;QAClC,aAAa;QACb,QAAQ;IACV;IAEA,OAAO;IACP,MAAM,aAAa;QACjB,QAAQ;QACR,eAAe,EAAE;QACjB,QAAQ;QACR,gBAAgB;YAAE,SAAS;YAAG,QAAQ;QAAE;QACxC,IAAI,aAAa,OAAO,EAAE;YACxB,aAAa,OAAO,CAAC,KAAK,GAAG;QAC/B;IACF;IAEA,QAAQ;IACR,MAAM,cAAc;QAClB,IAAI,SAAS,QAAQ;YACnB;QACF;QACA;QACA,aAAa;IACf;IAEA,MAAM,aAAa,YAAY,MAAM,CAAC,CAAC,IAAM,EAAE,KAAK,EAAE,MAAM;IAC5D,MAAM,eAAe,YAAY,MAAM,CAAC,CAAC,IAAM,CAAC,EAAE,KAAK,EAAE,MAAM;IAE/D,qBACE,8OAAC,qIAAM;QAAC,MAAM;QAAM,cAAc;kBAChC,cAAA,8OAAC,4IAAa;YAAC,WAAU;;8BACvB,8OAAC,2IAAY;;sCACX,8OAAC,0IAAW;sCAAC;;;;;;sCACb,8OAAC,gJAAiB;sCAAC;;;;;;;;;;;;gBAMpB,SAAS,0BACR,8OAAC;oBAAI,WAAU;;sCAEb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,0NAAQ;4CAAC,WAAU;;;;;;sDACpB,8OAAC;;8DACC,8OAAC;oDAAE,WAAU;8DAA4B;;;;;;8DACzC,8OAAC;oDAAE,WAAU;8DAAwB;;;;;;;;;;;;;;;;;;8CAKzC,8OAAC,qIAAM;oCAAC,SAAQ;oCAAU,MAAK;oCAAK,SAAS;;sDAC3C,8OAAC,sNAAQ;4CAAC,WAAU;;;;;;wCAAiB;;;;;;;;;;;;;sCAMzC,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAE,WAAU;8CAAiC;;;;;;8CAC9C,8OAAC;oCAAG,WAAU;;sDACZ,8OAAC;sDAAG;;;;;;sDACJ,8OAAC;sDAAG;;;;;;sDACJ,8OAAC;sDAAG;;;;;;sDACJ,8OAAC;sDAAG;;;;;;;;;;;;;;;;;;sCAKR,8OAAC;4BACC,WAAU;4BACV,SAAS,IAAM,aAAa,OAAO,EAAE;;8CAErC,8OAAC,gNAAM;oCAAC,WAAU;;;;;;8CAClB,8OAAC;oCAAE,WAAU;8CAAqB;;;;;;8CAClC,8OAAC;oCAAE,WAAU;8CAAwB;;;;;;8CACrC,8OAAC;oCACC,KAAK;oCACL,MAAK;oCACL,QAAO;oCACP,WAAU;oCACV,UAAU;;;;;;;;;;;;;;;;;;gBAOjB,SAAS,2BACR,8OAAC;oBAAI,WAAU;;sCAEb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,0OAAW;4CAAC,WAAU;;;;;;sDACvB,8OAAC;4CAAK,WAAU;;gDAAkB;gDAAW;;;;;;;;;;;;;gCAE9C,eAAe,mBACd,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,uNAAO;4CAAC,WAAU;;;;;;sDACnB,8OAAC;4CAAK,WAAU;;gDAAgB;gDAAa;;;;;;;;;;;;;;;;;;;sCAMnD,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCAAM,WAAU;;kDACf,8OAAC;wCAAM,WAAU;kDACf,cAAA,8OAAC;;8DACC,8OAAC;oDAAG,WAAU;8DAAqD;;;;;;8DAGnE,8OAAC;oDAAG,WAAU;8DAAgD;;;;;;8DAG9D,8OAAC;oDAAG,WAAU;8DAAgD;;;;;;8DAG9D,8OAAC;oDAAG,WAAU;8DAAqD;;;;;;;;;;;;;;;;;kDAKvE,8OAAC;wCAAM,WAAU;kDACd,YAAY,GAAG,CAAC,CAAC,MAAM,sBACtB,8OAAC;gDAEC,WAAW,KAAK,KAAK,GAAG,KAAK;;kEAE7B,8OAAC;wDAAG,WAAU;kEAA2B,QAAQ;;;;;;kEACjD,8OAAC;wDAAG,WAAU;kEACZ,cAAA,8OAAC;4DAAK,WAAU;sEAAgB,KAAK,KAAK;;;;;;;;;;;kEAE5C,8OAAC;wDAAG,WAAU;kEACZ,cAAA,8OAAC;4DAAK,WAAU;sEAAgB,KAAK,IAAI;;;;;;;;;;;kEAE3C,8OAAC;wDAAG,WAAU;kEACX,KAAK,KAAK,iBACT,8OAAC,0OAAW;4DAAC,WAAU;;;;;iFAEvB,8OAAC;4DACC,WAAU;4DACV,OAAO,KAAK,KAAK;sEAEjB,cAAA,8OAAC,uNAAO;gEAAC,WAAU;;;;;;;;;;;;;;;;;+CAlBpB;;;;;;;;;;;;;;;;;;;;;wBA6Bd,eAAe,mBACd,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,mOAAW;oCAAC,WAAU;;;;;;8CACvB,8OAAC;oCAAI,WAAU;;wCAAyB;wCACnC;wCAAa;;;;;;;;;;;;;;;;;;;gBAQzB,SAAS,wBACR,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC,0OAAW;gCAAC,WAAU;;;;;;;;;;;sCAEzB,8OAAC;4BAAG,WAAU;sCAA2C;;;;;;sCAGzD,8OAAC;4BAAE,WAAU;;gCAAgB;gCACrB,aAAa,OAAO;gCAAC;gCAC1B,aAAa,MAAM,GAAG,mBACrB,8OAAC;oCAAK,WAAU;;wCAAe;wCAC3B,aAAa,MAAM;wCAAC;;;;;;;;;;;;;;;;;;;8BAOhC,8OAAC,2IAAY;;wBACV,SAAS,0BACR,8OAAC,qIAAM;4BAAC,SAAQ;4BAAU,SAAS;sCAAa;;;;;;wBAKjD,SAAS,2BACR;;8CACE,8OAAC,qIAAM;oCAAC,SAAQ;oCAAU,SAAS;8CAAY;;;;;;8CAG/C,8OAAC,qIAAM;oCACL,SAAS;oCACT,UAAU,eAAe,KAAK;oCAC9B,WAAU;8CAET,YAAY,WAAW,CAAC,GAAG,EAAE,WAAW,IAAI,CAAC;;;;;;;;wBAKnD,SAAS,wBACR,8OAAC,qIAAM;4BACL,SAAS;4BACT,WAAU;sCACX;;;;;;;;;;;;;;;;;;;;;;;AAQb"}},
    {"offset": {"line": 1197, "column": 0}, "map": {"version":3,"sources":["file:///C:/Coding/Self_Learningv1/lib/sm2.ts"],"sourcesContent":["// lib/sm2.ts\n// SM-2 間隔重複演算法實作\n\nexport interface SM2Result {\n  interval: number        // 下次複習間隔（天）\n  easeFactor: number      // 難易度因子\n  repetitionCount: number // 重複次數\n  nextReviewAt: Date      // 下次複習時間\n}\n\nexport interface SM2Input {\n  quality: number          // 評分 0-4\n  currentInterval: number  // 當前間隔\n  currentEaseFactor: number // 當前難易度因子\n  currentRepetitionCount: number // 當前重複次數\n}\n\n/**\n * SM-2 演算法\n * \n * 評分說明：\n * 0 - 全忘：完全不記得，重新開始\n * 1 - 模糊：有印象但答錯\n * 2 - 要想：想了一下才記得\n * 3 - 順答：順利答出\n * 4 - 秒答：非常熟練\n */\nexport function calculateSM2(input: SM2Input): SM2Result {\n  const { quality, currentInterval, currentEaseFactor, currentRepetitionCount } = input\n\n  let interval: number\n  let easeFactor: number\n  let repetitionCount: number\n\n  // 評分 < 2 視為失敗，重新開始\n  if (quality < 2) {\n    repetitionCount = 0\n    interval = 1 // 明天再複習\n    easeFactor = Math.max(1.3, currentEaseFactor - 0.2)\n  } else {\n    // 評分 >= 2 視為成功\n    repetitionCount = currentRepetitionCount + 1\n\n    // 計算新間隔\n    if (repetitionCount === 1) {\n      interval = 1\n    } else if (repetitionCount === 2) {\n      interval = 3\n    } else {\n      interval = Math.round(currentInterval * currentEaseFactor)\n    }\n\n    // 根據評分調整間隔\n    if (quality === 2) {\n      interval = Math.max(1, Math.round(interval * 0.8)) // 要想：間隔稍減\n    } else if (quality === 4) {\n      interval = Math.round(interval * 1.3) // 秒答：間隔加長\n    }\n\n    // 更新難易度因子\n    // EF' = EF + (0.1 - (5 - q) * (0.08 + (5 - q) * 0.02))\n    easeFactor = currentEaseFactor + (0.1 - (5 - quality) * (0.08 + (5 - quality) * 0.02))\n    easeFactor = Math.max(1.3, easeFactor) // 最小值 1.3\n  }\n\n  // 計算下次複習時間\n  const nextReviewAt = new Date()\n  nextReviewAt.setDate(nextReviewAt.getDate() + interval)\n  nextReviewAt.setHours(0, 0, 0, 0) // 設為當天開始\n\n  return {\n    interval,\n    easeFactor: Math.round(easeFactor * 100) / 100, // 保留兩位小數\n    repetitionCount,\n    nextReviewAt,\n  }\n}\n\n/**\n * 評分按鈕配置\n */\nexport const qualityButtons = [\n  { value: 0, label: \"全忘\", color: \"bg-red-500 hover:bg-red-600\" },\n  { value: 1, label: \"模糊\", color: \"bg-orange-500 hover:bg-orange-600\" },\n  { value: 2, label: \"要想\", color: \"bg-amber-500 hover:bg-amber-600\" },\n  { value: 3, label: \"順答\", color: \"bg-green-500 hover:bg-green-600\" },\n  { value: 4, label: \"秒答\", color: \"bg-emerald-500 hover:bg-emerald-600\" },\n]\n\n/**\n * 計算預計下次複習時間的顯示文字\n */\nexport function getNextReviewText(days: number): string {\n  if (days === 0) return \"今天\"\n  if (days === 1) return \"明天\"\n  if (days < 7) return `${days} 天後`\n  if (days < 30) return `${Math.round(days / 7)} 週後`\n  if (days < 365) return `${Math.round(days / 30)} 個月後`\n  return `${Math.round(days / 365)} 年後`\n}\n"],"names":[],"mappings":"AAAA,aAAa;AACb,iBAAiB;;;;;;;;;AA0BV,SAAS,aAAa,KAAe;IAC1C,MAAM,EAAE,OAAO,EAAE,eAAe,EAAE,iBAAiB,EAAE,sBAAsB,EAAE,GAAG;IAEhF,IAAI;IACJ,IAAI;IACJ,IAAI;IAEJ,mBAAmB;IACnB,IAAI,UAAU,GAAG;QACf,kBAAkB;QAClB,WAAW,GAAE,QAAQ;QACrB,aAAa,KAAK,GAAG,CAAC,KAAK,oBAAoB;IACjD,OAAO;QACL,eAAe;QACf,kBAAkB,yBAAyB;QAE3C,QAAQ;QACR,IAAI,oBAAoB,GAAG;YACzB,WAAW;QACb,OAAO,IAAI,oBAAoB,GAAG;YAChC,WAAW;QACb,OAAO;YACL,WAAW,KAAK,KAAK,CAAC,kBAAkB;QAC1C;QAEA,WAAW;QACX,IAAI,YAAY,GAAG;YACjB,WAAW,KAAK,GAAG,CAAC,GAAG,KAAK,KAAK,CAAC,WAAW,OAAM,UAAU;QAC/D,OAAO,IAAI,YAAY,GAAG;YACxB,WAAW,KAAK,KAAK,CAAC,WAAW,MAAK,UAAU;QAClD;QAEA,UAAU;QACV,uDAAuD;QACvD,aAAa,oBAAoB,CAAC,MAAM,CAAC,IAAI,OAAO,IAAI,CAAC,OAAO,CAAC,IAAI,OAAO,IAAI,IAAI,CAAC;QACrF,aAAa,KAAK,GAAG,CAAC,KAAK,aAAY,UAAU;IACnD;IAEA,WAAW;IACX,MAAM,eAAe,IAAI;IACzB,aAAa,OAAO,CAAC,aAAa,OAAO,KAAK;IAC9C,aAAa,QAAQ,CAAC,GAAG,GAAG,GAAG,IAAG,SAAS;IAE3C,OAAO;QACL;QACA,YAAY,KAAK,KAAK,CAAC,aAAa,OAAO;QAC3C;QACA;IACF;AACF;AAKO,MAAM,iBAAiB;IAC5B;QAAE,OAAO;QAAG,OAAO;QAAM,OAAO;IAA8B;IAC9D;QAAE,OAAO;QAAG,OAAO;QAAM,OAAO;IAAoC;IACpE;QAAE,OAAO;QAAG,OAAO;QAAM,OAAO;IAAkC;IAClE;QAAE,OAAO;QAAG,OAAO;QAAM,OAAO;IAAkC;IAClE;QAAE,OAAO;QAAG,OAAO;QAAM,OAAO;IAAsC;CACvE;AAKM,SAAS,kBAAkB,IAAY;IAC5C,IAAI,SAAS,GAAG,OAAO;IACvB,IAAI,SAAS,GAAG,OAAO;IACvB,IAAI,OAAO,GAAG,OAAO,GAAG,KAAK,GAAG,CAAC;IACjC,IAAI,OAAO,IAAI,OAAO,GAAG,KAAK,KAAK,CAAC,OAAO,GAAG,GAAG,CAAC;IAClD,IAAI,OAAO,KAAK,OAAO,GAAG,KAAK,KAAK,CAAC,OAAO,IAAI,IAAI,CAAC;IACrD,OAAO,GAAG,KAAK,KAAK,CAAC,OAAO,KAAK,GAAG,CAAC;AACvC"}},
    {"offset": {"line": 1289, "column": 0}, "map": {"version":3,"sources":["file:///C:/Coding/Self_Learningv1/app/%28dashboard%29/dashboard/flashcards/%5BdeckId%5D/page.tsx"],"sourcesContent":["// app/(dashboard)/dashboard/flashcards/[deckId]/page.tsx\n\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { useParams, useRouter } from \"next/navigation\"\nimport Link from \"next/link\"\nimport { supabase } from \"@/lib/supabaseClient\"\nimport { Button } from \"@/components/ui/button\"\nimport { Card, CardContent } from \"@/components/ui/card\"\nimport { Input } from \"@/components/ui/input\"\nimport { Label } from \"@/components/ui/label\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\"\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n} from \"@/components/ui/alert-dialog\"\nimport {\n  ArrowLeft,\n  Plus,\n  Play,\n  MoreVertical,\n  Pencil,\n  Trash2,\n  Clock,\n  RotateCcw,\n  Upload,\n  ClipboardList,\n} from \"lucide-react\"\nimport { FlashcardImport } from \"@/components/flashcards/flashcard-import\"\nimport { getNextReviewText } from \"@/lib/sm2\"\nimport type { Deck, Flashcard } from \"@/types/supabase\"\n\nexport default function DeckDetailPage() {\n  const params = useParams()\n  const router = useRouter()\n  const deckId = params.deckId as string\n\n  const [deck, setDeck] = useState<Deck | null>(null)\n  const [cards, setCards] = useState<Flashcard[]>([])\n  const [loading, setLoading] = useState(true)\n\n  // 表單狀態\n  const [formOpen, setFormOpen] = useState(false)\n  const [editingCard, setEditingCard] = useState<Flashcard | null>(null)\n  const [front, setFront] = useState(\"\")\n  const [back, setBack] = useState(\"\")\n  const [saving, setSaving] = useState(false)\n\n  // 刪除狀態\n  const [deleteDialogOpen, setDeleteDialogOpen] = useState(false)\n  const [deletingCard, setDeletingCard] = useState<Flashcard | null>(null)\n  const [deleteLoading, setDeleteLoading] = useState(false)\n\n  // 匯入對話框\n  const [importOpen, setImportOpen] = useState(false)\n\n  // 篩選狀態\n  const [filter, setFilter] = useState<\"all\" | \"due\" | \"learned\">(\"all\")\n\n  // 待複習數量\n  const [dueCount, setDueCount] = useState(0)\n\n  // 載入資料\n  const fetchData = async () => {\n    const { data: { user } } = await supabase.auth.getUser()\n    if (!user) return\n\n    // 取得卡片組\n    const { data: deckData } = await supabase\n      .from(\"decks\")\n      .select(\"*\")\n      .eq(\"id\", deckId)\n      .eq(\"user_id\", user.id)\n      .single()\n\n    if (!deckData) {\n      router.push(\"/dashboard/flashcards\")\n      return\n    }\n    setDeck(deckData)\n\n    // 取得卡片\n    await fetchCards()\n\n    setLoading(false)\n  }\n\n  const fetchCards = async () => {\n    const { data: cardsData } = await supabase\n      .from(\"flashcards\")\n      .select(\"*\")\n      .eq(\"deck_id\", deckId)\n      .order(\"created_at\", { ascending: false })\n\n    if (cardsData) {\n      setCards(cardsData)\n\n      // 計算待複習數量\n      const today = new Date()\n      today.setHours(23, 59, 59, 999)\n      const due = cardsData.filter(\n        (c) => new Date(c.next_review_at || 0) <= today\n      ).length\n      setDueCount(due)\n    }\n  }\n\n  useEffect(() => {\n    fetchData()\n  }, [deckId])\n\n  // 開啟新增表單\n  const openCreateForm = () => {\n    setEditingCard(null)\n    setFront(\"\")\n    setBack(\"\")\n    setFormOpen(true)\n  }\n\n  // 開啟編輯表單\n  const openEditForm = (card: Flashcard) => {\n    setEditingCard(card)\n    setFront(card.front)\n    setBack(card.back)\n    setFormOpen(true)\n  }\n\n  // 儲存卡片\n  const handleSave = async () => {\n    if (!front.trim() || !back.trim()) return\n\n    setSaving(true)\n\n    const { data: { user } } = await supabase.auth.getUser()\n    if (!user) {\n      setSaving(false)\n      return\n    }\n\n    if (editingCard) {\n      // 更新\n      await supabase\n        .from(\"flashcards\")\n        .update({\n          front: front.trim(),\n          back: back.trim(),\n        })\n        .eq(\"id\", editingCard.id)\n    } else {\n      // 新增\n      await supabase\n        .from(\"flashcards\")\n        .insert({\n          user_id: user.id,\n          deck_id: deckId,\n          front: front.trim(),\n          back: back.trim(),\n          next_review_at: new Date().toISOString(),\n          interval: 0,\n          ease_factor: 2.5,\n          repetition_count: 0,\n        })\n    }\n\n    setSaving(false)\n    setFormOpen(false)\n    fetchCards()\n  }\n\n  // 開啟刪除確認\n  const openDeleteDialog = (card: Flashcard) => {\n    setDeletingCard(card)\n    setDeleteDialogOpen(true)\n  }\n\n  // 刪除卡片\n  const handleDelete = async () => {\n    if (!deletingCard) return\n\n    setDeleteLoading(true)\n\n    await supabase\n      .from(\"flashcards\")\n      .delete()\n      .eq(\"id\", deletingCard.id)\n\n    setDeleteLoading(false)\n    setDeleteDialogOpen(false)\n    setDeletingCard(null)\n    fetchCards()\n  }\n\n  // 重設卡片進度\n  const resetCard = async (card: Flashcard) => {\n    await supabase\n      .from(\"flashcards\")\n      .update({\n        next_review_at: new Date().toISOString(),\n        interval: 0,\n        ease_factor: 2.5,\n        repetition_count: 0,\n      })\n      .eq(\"id\", card.id)\n\n    fetchCards()\n  }\n\n  // 開始複習\n  const startReview = () => {\n    router.push(`/dashboard/flashcards/${deckId}/review`)\n  }\n\n  // 計算卡片狀態\n  const getCardStatus = (card: Flashcard) => {\n    const today = new Date()\n    today.setHours(23, 59, 59, 999)\n    const nextReview = new Date(card.next_review_at || 0)\n\n    if (nextReview <= today) {\n      return { text: \"待複習\", color: \"text-amber-600 bg-amber-100\" }\n    }\n\n    const daysUntil = Math.ceil(\n      (nextReview.getTime() - new Date().getTime()) / (1000 * 60 * 60 * 24)\n    )\n    return {\n      text: getNextReviewText(daysUntil),\n      color: \"text-green-600 bg-green-100\",\n    }\n  }\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center py-12\">\n        <div className=\"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin\" />\n      </div>\n    )\n  }\n\n  if (!deck) return null\n\n  return (\n    <div className=\"space-y-6\">\n      {/* 頂部導航 */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-4\">\n          <Link href=\"/dashboard/flashcards\">\n            <Button variant=\"ghost\" size=\"sm\">\n              <ArrowLeft className=\"w-4 h-4 mr-2\" />\n              返回\n            </Button>\n          </Link>\n          <div>\n            <h1 className=\"text-2xl font-bold text-gray-800\">{deck.title}</h1>\n            {deck.description && (\n              <p className=\"text-gray-600 mt-1\">{deck.description}</p>\n            )}\n          </div>\n        </div>\n        <div className=\"flex gap-2\">\n          <Button\n            variant=\"outline\"\n            onClick={() => setImportOpen(true)}\n          >\n            <Upload className=\"w-4 h-4 mr-2\" />\n            批次匯入\n          </Button>\n          <Button\n            variant=\"outline\"\n            onClick={openCreateForm}\n          >\n            <Plus className=\"w-4 h-4 mr-2\" />\n            新增卡片\n          </Button>\n          <Button\n            className=\"bg-green-600 hover:bg-green-700\"\n            onClick={startReview}\n            disabled={cards.length === 0}\n          >\n            <Play className=\"w-4 h-4 mr-2\" />\n            {dueCount > 0 ? `複習 (${dueCount})` : \"複習\"}\n          </Button>\n          <Button\n            className=\"bg-purple-600 hover:bg-purple-700\"\n            onClick={() => router.push(`/dashboard/flashcards/${deckId}/test`)}\n            disabled={cards.length < 4}\n          >\n            <ClipboardList className=\"w-4 h-4 mr-2\" />\n            測驗\n          </Button>\n        </div>\n      </div>\n\n      {/* 篩選按鈕 */}\n      <div className=\"flex items-center gap-4\">\n        <div className=\"flex gap-1 bg-gray-100 p-1 rounded-lg\">\n          <button\n            onClick={() => setFilter(\"all\")}\n            className={`px-3 py-1.5 text-sm rounded-md transition-colors ${\n              filter === \"all\"\n                ? \"bg-white text-gray-800 shadow-sm\"\n                : \"text-gray-600 hover:text-gray-800\"\n            }`}\n          >\n            全部 ({cards.length})\n          </button>\n          <button\n            onClick={() => setFilter(\"due\")}\n            className={`px-3 py-1.5 text-sm rounded-md transition-colors ${\n              filter === \"due\"\n                ? \"bg-white text-amber-600 shadow-sm\"\n                : \"text-gray-600 hover:text-gray-800\"\n            }`}\n          >\n            待複習 ({dueCount})\n          </button>\n          <button\n            onClick={() => setFilter(\"learned\")}\n            className={`px-3 py-1.5 text-sm rounded-md transition-colors ${\n              filter === \"learned\"\n                ? \"bg-white text-green-600 shadow-sm\"\n                : \"text-gray-600 hover:text-gray-800\"\n            }`}\n          >\n            已排程 ({cards.length - dueCount})\n          </button>\n        </div>\n      </div>\n\n      {/* 卡片列表 */}\n      {cards.length === 0 ? (\n        <Card>\n          <CardContent className=\"flex flex-col items-center justify-center py-12\">\n            <h3 className=\"text-lg font-semibold text-gray-800 mb-2\">\n              尚未建立卡片\n            </h3>\n            <p className=\"text-gray-600 text-center mb-4\">\n              開始新增記憶卡片吧！\n            </p>\n            <Button\n              onClick={openCreateForm}\n              className=\"bg-blue-600 hover:bg-blue-700\"\n            >\n              <Plus className=\"w-4 h-4 mr-2\" />\n              新增卡片\n            </Button>\n          </CardContent>\n        </Card>\n      ) : (\n        <div className=\"space-y-3\">\n          {cards\n            .filter((card) => {\n              if (filter === \"all\") return true\n              const today = new Date()\n              today.setHours(23, 59, 59, 999)\n              const isDue = new Date(card.next_review_at || 0) <= today\n              if (filter === \"due\") return isDue\n              if (filter === \"learned\") return !isDue\n              return true\n            })\n            .map((card) => (\n            <FlashcardItem\n              key={card.id}\n              card={card}\n              status={getCardStatus(card)}\n              onEdit={() => openEditForm(card)}\n              onDelete={() => openDeleteDialog(card)}\n              onReset={() => resetCard(card)}\n            />\n          ))}\n        </div>\n      )}\n\n      {/* 新增/編輯對話框 */}\n      <Dialog open={formOpen} onOpenChange={setFormOpen}>\n        <DialogContent className=\"sm:max-w-[500px]\">\n          <DialogHeader>\n            <DialogTitle>\n              {editingCard ? \"編輯卡片\" : \"新增卡片\"}\n            </DialogTitle>\n            <DialogDescription>\n              輸入卡片正面（問題）和背面（答案）\n            </DialogDescription>\n          </DialogHeader>\n\n          <div className=\"space-y-4 py-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"front\">正面（問題）*</Label>\n              <Textarea\n                id=\"front\"\n                value={front}\n                onChange={(e) => setFront(e.target.value)}\n                placeholder=\"例如：apple\"\n                rows={3}\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"back\">背面（答案）*</Label>\n              <Textarea\n                id=\"back\"\n                value={back}\n                onChange={(e) => setBack(e.target.value)}\n                placeholder=\"例如：蘋果\"\n                rows={3}\n              />\n            </div>\n          </div>\n\n          <DialogFooter>\n            <Button variant=\"outline\" onClick={() => setFormOpen(false)}>\n              取消\n            </Button>\n            <Button\n              onClick={handleSave}\n              disabled={!front.trim() || !back.trim() || saving}\n              className=\"bg-blue-600 hover:bg-blue-700\"\n            >\n              {saving ? \"儲存中...\" : \"儲存\"}\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      {/* 刪除確認對話框 */}\n      <AlertDialog open={deleteDialogOpen} onOpenChange={setDeleteDialogOpen}>\n        <AlertDialogContent>\n          <AlertDialogHeader>\n            <AlertDialogTitle>確定要刪除嗎？</AlertDialogTitle>\n            <AlertDialogDescription>\n              刪除此卡片後無法復原。\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogCancel>取消</AlertDialogCancel>\n            <AlertDialogAction\n              onClick={handleDelete}\n              className=\"bg-red-600 hover:bg-red-700\"\n              disabled={deleteLoading}\n            >\n              {deleteLoading ? \"刪除中...\" : \"確定刪除\"}\n            </AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n\n      {/* 批次匯入對話框 */}\n      <FlashcardImport\n        open={importOpen}\n        onOpenChange={setImportOpen}\n        onSuccess={() => fetchCards()}\n        deckId={deckId}\n      />\n    </div>\n  )\n}\n\n// 卡片項目元件\nfunction FlashcardItem({\n  card,\n  status,\n  onEdit,\n  onDelete,\n  onReset,\n}: {\n  card: Flashcard\n  status: { text: string; color: string }\n  onEdit: () => void\n  onDelete: () => void\n  onReset: () => void\n}) {\n  const [showMenu, setShowMenu] = useState(false)\n  const [flipped, setFlipped] = useState(false)\n\n  return (\n    <Card className=\"group\">\n      <CardContent className=\"p-4\">\n        <div className=\"flex items-start gap-4\">\n          {/* 卡片內容 */}\n          <div\n            className=\"flex-1 cursor-pointer\"\n            onClick={() => setFlipped(!flipped)}\n          >\n            <div className=\"flex items-center gap-2 mb-2\">\n              <span className={`text-xs px-2 py-0.5 rounded ${status.color}`}>\n                {status.text}\n              </span>\n              <span className=\"text-xs text-gray-400\">\n                點擊翻轉\n              </span>\n            </div>\n\n            {!flipped ? (\n              <div>\n                <p className=\"text-xs text-gray-500 mb-1\">正面</p>\n                <p className=\"text-gray-800 whitespace-pre-wrap\">{card.front}</p>\n              </div>\n            ) : (\n              <div>\n                <p className=\"text-xs text-gray-500 mb-1\">背面</p>\n                <p className=\"text-gray-800 whitespace-pre-wrap\">{card.back}</p>\n              </div>\n            )}\n\n            {/* 學習統計 */}\n            {(card.repetition_count || 0) > 0 && (\n              <div className=\"mt-2 text-xs text-gray-500\">\n                已複習 {card.repetition_count} 次 · 間隔 {card.interval} 天\n              </div>\n            )}\n          </div>\n\n          {/* 選單 */}\n          <div className=\"relative\">\n            <Button\n              variant=\"ghost\"\n              size=\"icon\"\n              className=\"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity\"\n              onClick={() => setShowMenu(!showMenu)}\n            >\n              <MoreVertical className=\"h-4 w-4\" />\n            </Button>\n\n            {showMenu && (\n              <>\n                <div\n                  className=\"fixed inset-0 z-10\"\n                  onClick={() => setShowMenu(false)}\n                />\n                <div className=\"absolute right-0 top-8 z-20 w-36 bg-white rounded-md shadow-lg border py-1\">\n                  <button\n                    className=\"flex items-center w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-100\"\n                    onClick={() => {\n                      setShowMenu(false)\n                      onEdit()\n                    }}\n                  >\n                    <Pencil className=\"h-4 w-4 mr-2\" />\n                    編輯\n                  </button>\n                  <button\n                    className=\"flex items-center w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-100\"\n                    onClick={() => {\n                      setShowMenu(false)\n                      onReset()\n                    }}\n                  >\n                    <RotateCcw className=\"h-4 w-4 mr-2\" />\n                    重設進度\n                  </button>\n                  <button\n                    className=\"flex items-center w-full px-3 py-2 text-sm text-red-600 hover:bg-red-50\"\n                    onClick={() => {\n                      setShowMenu(false)\n                      onDelete()\n                    }}\n                  >\n                    <Trash2 className=\"h-4 w-4 mr-2\" />\n                    刪除\n                  </button>\n                </div>\n              </>\n            )}\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}