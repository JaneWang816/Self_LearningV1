{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Coding/Self_Learningv1/lib/supabaseClient.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js'\r\nimport { Database } from '../types/supabase'\r\n\r\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL\r\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY\r\n\r\nif (!supabaseUrl || !supabaseAnonKey) {\r\n    throw new Error('Missing Supabase environment variables. Please check your .env.local file.')\r\n}\r\n\r\nexport const supabase = createClient<Database>(supabaseUrl, supabaseAnonKey)\r\n"],"names":[],"mappings":";;;;AAAA;;AAGA,MAAM;AACN,MAAM;AAEN;;AAIO,MAAM,WAAW,IAAA,uMAAY,EAAW,aAAa"}},
    {"offset": {"line": 43, "column": 0}, "map": {"version":3,"sources":["file:///C:/Coding/Self_Learningv1/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\n/**\n * 合併 Tailwind CSS 類名的工具函數\n * 結合 clsx 的條件類名功能與 tailwind-merge 的衝突解決\n * \n * @example\n * cn(\"px-2 py-1\", \"px-4\") // => \"py-1 px-4\"\n * cn(\"text-red-500\", isActive && \"text-blue-500\")\n */\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAUO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB"}},
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///C:/Coding/Self_Learningv1/components/layout/sidebar.tsx"],"sourcesContent":["// components/layout/sidebar.tsx\n\"use client\"\n\nimport Link from \"next/link\"\nimport { usePathname } from \"next/navigation\"\nimport { cn } from \"@/lib/utils\"\nimport {\n  BookOpen,\n  FileQuestion,\n  XCircle,\n  Lightbulb,\n  LayoutDashboard,\n} from \"lucide-react\"\n\nconst navItems = [\n  {\n    title: \"總覽\",\n    href: \"/dashboard\",\n    icon: LayoutDashboard,\n  },\n  {\n    title: \"科目\",\n    href: \"/dashboard/subjects\",\n    icon: BookOpen,\n  },\n  {\n    title: \"題庫\",\n    href: \"/dashboard/practice\",\n    icon: FileQuestion,\n  },\n  {\n    title: \"錯題本\",\n    href: \"/dashboard/mistakes\",\n    icon: XCircle,\n  },\n  {\n    title: \"記憶卡片\",\n    href: \"/dashboard/flashcards\",\n    icon: Lightbulb,\n  },\n]\n\nexport function Sidebar() {\n  const pathname = usePathname()\n\n  return (\n    <aside className=\"hidden md:flex md:flex-col md:w-64 md:fixed md:inset-y-0 bg-white border-r\">\n      {/* Logo */}\n      <div className=\"flex items-center h-16 px-6 border-b\">\n        <BookOpen className=\"w-8 h-8 text-blue-600\" />\n        <span className=\"ml-3 text-xl font-bold text-gray-800\">自主學習</span>\n      </div>\n\n      {/* Navigation */}\n      <nav className=\"flex-1 px-4 py-6 space-y-2 overflow-y-auto\">\n        {navItems.map((item) => {\n          const isActive =\n            pathname === item.href ||\n            (item.href !== \"/dashboard\" && pathname.startsWith(item.href))\n\n          return (\n            <Link\n              key={item.href}\n              href={item.href}\n              className={cn(\n                \"flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors\",\n                isActive\n                  ? \"bg-blue-50 text-blue-700\"\n                  : \"text-gray-600 hover:bg-gray-100 hover:text-gray-900\"\n              )}\n            >\n              <item.icon className={cn(\"w-5 h-5 mr-3\", isActive ? \"text-blue-700\" : \"text-gray-400\")} />\n              {item.title}\n            </Link>\n          )\n        })}\n      </nav>\n    </aside>\n  )\n}\n"],"names":[],"mappings":"AAAA,gCAAgC;;;;;;AAGhC;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AALA;;;;;;AAaA,MAAM,WAAW;IACf;QACE,OAAO;QACP,MAAM;QACN,MAAM,+OAAe;IACvB;IACA;QACE,OAAO;QACP,MAAM;QACN,MAAM,0NAAQ;IAChB;IACA;QACE,OAAO;QACP,MAAM;QACN,MAAM,8OAAY;IACpB;IACA;QACE,OAAO;QACP,MAAM;QACN,MAAM,uNAAO;IACf;IACA;QACE,OAAO;QACP,MAAM;QACN,MAAM,yNAAS;IACjB;CACD;AAEM,SAAS;IACd,MAAM,WAAW,IAAA,iJAAW;IAE5B,qBACE,8OAAC;QAAM,WAAU;;0BAEf,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,0NAAQ;wBAAC,WAAU;;;;;;kCACpB,8OAAC;wBAAK,WAAU;kCAAuC;;;;;;;;;;;;0BAIzD,8OAAC;gBAAI,WAAU;0BACZ,SAAS,GAAG,CAAC,CAAC;oBACb,MAAM,WACJ,aAAa,KAAK,IAAI,IACrB,KAAK,IAAI,KAAK,gBAAgB,SAAS,UAAU,CAAC,KAAK,IAAI;oBAE9D,qBACE,8OAAC,uKAAI;wBAEH,MAAM,KAAK,IAAI;wBACf,WAAW,IAAA,kHAAE,EACX,gFACA,WACI,6BACA;;0CAGN,8OAAC,KAAK,IAAI;gCAAC,WAAW,IAAA,kHAAE,EAAC,gBAAgB,WAAW,kBAAkB;;;;;;4BACrE,KAAK,KAAK;;uBAVN,KAAK,IAAI;;;;;gBAapB;;;;;;;;;;;;AAIR"}},
    {"offset": {"line": 173, "column": 0}, "map": {"version":3,"sources":["file:///C:/Coding/Self_Learningv1/components/layout/bottom-nav.tsx"],"sourcesContent":["// components/layout/bottom-nav.tsx\n\"use client\"\n\nimport Link from \"next/link\"\nimport { usePathname } from \"next/navigation\"\nimport { cn } from \"@/lib/utils\"\nimport {\n  BookOpen,\n  FileQuestion,\n  XCircle,\n  Lightbulb,\n  LayoutDashboard,\n} from \"lucide-react\"\n\nconst navItems = [\n  {\n    title: \"總覽\",\n    href: \"/dashboard\",\n    icon: LayoutDashboard,\n  },\n  {\n    title: \"科目\",\n    href: \"/dashboard/subjects\",\n    icon: BookOpen,\n  },\n  {\n    title: \"題庫\",\n    href: \"/dashboard/practice\",\n    icon: FileQuestion,\n  },\n  {\n    title: \"錯題\",\n    href: \"/dashboard/mistakes\",\n    icon: XCircle,\n  },\n  {\n    title: \"卡片\",\n    href: \"/dashboard/flashcards\",\n    icon: Lightbulb,\n  },\n]\n\nexport function BottomNav() {\n  const pathname = usePathname()\n\n  return (\n    <nav className=\"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t z-50\">\n      <div className=\"flex items-center justify-around h-16\">\n        {navItems.map((item) => {\n          const isActive =\n            pathname === item.href ||\n            (item.href !== \"/dashboard\" && pathname.startsWith(item.href))\n\n          return (\n            <Link\n              key={item.href}\n              href={item.href}\n              className={cn(\n                \"flex flex-col items-center justify-center flex-1 h-full transition-colors\",\n                isActive\n                  ? \"text-blue-600\"\n                  : \"text-gray-500 hover:text-gray-700\"\n              )}\n            >\n              <item.icon className=\"w-5 h-5\" />\n              <span className=\"mt-1 text-xs\">{item.title}</span>\n            </Link>\n          )\n        })}\n      </div>\n    </nav>\n  )\n}\n"],"names":[],"mappings":"AAAA,mCAAmC;;;;;;AAGnC;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AALA;;;;;;AAaA,MAAM,WAAW;IACf;QACE,OAAO;QACP,MAAM;QACN,MAAM,+OAAe;IACvB;IACA;QACE,OAAO;QACP,MAAM;QACN,MAAM,0NAAQ;IAChB;IACA;QACE,OAAO;QACP,MAAM;QACN,MAAM,8OAAY;IACpB;IACA;QACE,OAAO;QACP,MAAM;QACN,MAAM,uNAAO;IACf;IACA;QACE,OAAO;QACP,MAAM;QACN,MAAM,yNAAS;IACjB;CACD;AAEM,SAAS;IACd,MAAM,WAAW,IAAA,iJAAW;IAE5B,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;sBACZ,SAAS,GAAG,CAAC,CAAC;gBACb,MAAM,WACJ,aAAa,KAAK,IAAI,IACrB,KAAK,IAAI,KAAK,gBAAgB,SAAS,UAAU,CAAC,KAAK,IAAI;gBAE9D,qBACE,8OAAC,uKAAI;oBAEH,MAAM,KAAK,IAAI;oBACf,WAAW,IAAA,kHAAE,EACX,6EACA,WACI,kBACA;;sCAGN,8OAAC,KAAK,IAAI;4BAAC,WAAU;;;;;;sCACrB,8OAAC;4BAAK,WAAU;sCAAgB,KAAK,KAAK;;;;;;;mBAVrC,KAAK,IAAI;;;;;YAapB;;;;;;;;;;;AAIR"}},
    {"offset": {"line": 269, "column": 0}, "map": {"version":3,"sources":["file:///C:/Coding/Self_Learningv1/components/ui/button.tsx"],"sourcesContent":["//components/ui/button.tsx\r\nimport * as React from \"react\"\r\nimport { Slot } from \"@radix-ui/react-slot\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst buttonVariants = cva(\r\n    \"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\",\r\n    {\r\n        variants: {\r\n            variant: {\r\n                default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\r\n                destructive:\r\n                    \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\r\n                outline:\r\n                    \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\r\n                secondary:\r\n                    \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\r\n                ghost: \"hover:bg-accent hover:text-accent-foreground\",\r\n                link: \"text-primary underline-offset-4 hover:underline\",\r\n            },\r\n            size: {\r\n                default: \"h-10 px-4 py-2\",\r\n                sm: \"h-9 rounded-md px-3\",\r\n                lg: \"h-11 rounded-md px-8\",\r\n                icon: \"h-10 w-10\",\r\n            },\r\n        },\r\n        defaultVariants: {\r\n            variant: \"default\",\r\n            size: \"default\",\r\n        },\r\n    }\r\n)\r\n\r\nexport interface ButtonProps\r\n    extends React.ButtonHTMLAttributes<HTMLButtonElement>,\r\n    VariantProps<typeof buttonVariants> {\r\n    asChild?: boolean\r\n}\r\n\r\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\r\n    ({ className, variant, size, asChild = false, ...props }, ref) => {\r\n        const Comp = asChild ? Slot : \"button\"\r\n        return (\r\n            <Comp\r\n                className={cn(buttonVariants({ variant, size, className }))}\r\n                ref={ref}\r\n                {...props}\r\n            />\r\n        )\r\n    }\r\n)\r\nButton.displayName = \"Button\"\r\n\r\nexport { Button, buttonVariants }\r\n"],"names":[],"mappings":"AAAA,0BAA0B;;;;;;;;AAC1B;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACtB,0RACA;IACI,UAAU;QACN,SAAS;YACL,SAAS;YACT,aACI;YACJ,SACI;YACJ,WACI;YACJ,OAAO;YACP,MAAM;QACV;QACA,MAAM;YACF,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACV;IACJ;IACA,iBAAiB;QACb,SAAS;QACT,MAAM;IACV;AACJ;AASJ,MAAM,uBAAS,mNAAgB,CAC3B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACtD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAC9B,qBACI,8OAAC;QACG,WAAW,IAAA,kHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGrB;AAEJ,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 330, "column": 0}, "map": {"version":3,"sources":["file:///C:/Coding/Self_Learningv1/components/layout/header.tsx"],"sourcesContent":["// components/layout/header.tsx\n\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { useRouter } from \"next/navigation\"\nimport { supabase } from \"@/lib/supabaseClient\"\nimport { Button } from \"@/components/ui/button\"\nimport { LogOut, User, Menu } from \"lucide-react\"\nimport type { User as SupabaseUser } from \"@supabase/supabase-js\"\n\nexport function Header() {\n  const router = useRouter()\n  const [user, setUser] = useState<SupabaseUser | null>(null)\n  const [loading, setLoading] = useState(false)\n\n  useEffect(() => {\n    // 取得當前用戶\n    const getUser = async () => {\n      const { data: { user } } = await supabase.auth.getUser()\n      setUser(user)\n    }\n    getUser()\n\n    // 監聽認證狀態變化\n    const { data: { subscription } } = supabase.auth.onAuthStateChange(\n      (_event, session) => {\n        setUser(session?.user ?? null)\n      }\n    )\n\n    return () => subscription.unsubscribe()\n  }, [])\n\n  const handleLogout = async () => {\n    setLoading(true)\n    await supabase.auth.signOut()\n    router.push(\"/login\")\n  }\n\n  const displayName = user?.user_metadata?.full_name || user?.email || \"使用者\"\n\n  return (\n    <header className=\"sticky top-0 z-40 bg-white border-b\">\n      <div className=\"flex items-center justify-between h-16 px-4 md:px-6\">\n        {/* 手機版 Logo */}\n        <div className=\"flex items-center md:hidden\">\n          <span className=\"text-lg font-bold text-gray-800\">自主學習</span>\n        </div>\n\n        {/* 桌面版留空（因為有側邊欄） */}\n        <div className=\"hidden md:block\" />\n\n        {/* 用戶資訊 */}\n        <div className=\"flex items-center gap-4\">\n          <div className=\"flex items-center gap-2 text-sm text-gray-600\">\n            <div className=\"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center\">\n              <User className=\"w-4 h-4 text-blue-600\" />\n            </div>\n            <span className=\"hidden sm:inline\">{displayName}</span>\n          </div>\n\n          <Button\n            variant=\"ghost\"\n            size=\"sm\"\n            onClick={handleLogout}\n            disabled={loading}\n            className=\"text-gray-600 hover:text-gray-900\"\n          >\n            <LogOut className=\"w-4 h-4 mr-2\" />\n            <span className=\"hidden sm:inline\">登出</span>\n          </Button>\n        </div>\n      </div>\n    </header>\n  )\n}\n"],"names":[],"mappings":"AAAA,+BAA+B;;;;;;AAG/B;AACA;AACA;AACA;AACA;AAAA;AANA;;;;;;;AASO,SAAS;IACd,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAsB;IACtD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,SAAS;QACT,MAAM,UAAU;YACd,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,GAAG,MAAM,iIAAQ,CAAC,IAAI,CAAC,OAAO;YACtD,QAAQ;QACV;QACA;QAEA,WAAW;QACX,MAAM,EAAE,MAAM,EAAE,YAAY,EAAE,EAAE,GAAG,iIAAQ,CAAC,IAAI,CAAC,iBAAiB,CAChE,CAAC,QAAQ;YACP,QAAQ,SAAS,QAAQ;QAC3B;QAGF,OAAO,IAAM,aAAa,WAAW;IACvC,GAAG,EAAE;IAEL,MAAM,eAAe;QACnB,WAAW;QACX,MAAM,iIAAQ,CAAC,IAAI,CAAC,OAAO;QAC3B,OAAO,IAAI,CAAC;IACd;IAEA,MAAM,cAAc,MAAM,eAAe,aAAa,MAAM,SAAS;IAErE,qBACE,8OAAC;QAAO,WAAU;kBAChB,cAAA,8OAAC;YAAI,WAAU;;8BAEb,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAK,WAAU;kCAAkC;;;;;;;;;;;8BAIpD,8OAAC;oBAAI,WAAU;;;;;;8BAGf,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;8CACb,cAAA,8OAAC,0MAAI;wCAAC,WAAU;;;;;;;;;;;8CAElB,8OAAC;oCAAK,WAAU;8CAAoB;;;;;;;;;;;;sCAGtC,8OAAC,qIAAM;4BACL,SAAQ;4BACR,MAAK;4BACL,SAAS;4BACT,UAAU;4BACV,WAAU;;8CAEV,8OAAC,oNAAM;oCAAC,WAAU;;;;;;8CAClB,8OAAC;oCAAK,WAAU;8CAAmB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAM/C"}},
    {"offset": {"line": 483, "column": 0}, "map": {"version":3,"sources":["file:///C:/Coding/Self_Learningv1/app/%28dashboard%29/layout.tsx"],"sourcesContent":["// app/(dashboard)/layout.tsx\n\"use client\"\n\nimport { useEffect, useState } from \"react\"\nimport { useRouter } from \"next/navigation\"\nimport { supabase } from \"@/lib/supabaseClient\"\nimport { Sidebar } from \"@/components/layout/sidebar\"\nimport { BottomNav } from \"@/components/layout/bottom-nav\"\nimport { Header } from \"@/components/layout/header\"\n\nexport default function DashboardLayout({\n  children,\n}: {\n  children: React.ReactNode\n}) {\n  const router = useRouter()\n  const [loading, setLoading] = useState(true)\n  const [authenticated, setAuthenticated] = useState(false)\n\n  useEffect(() => {\n    const checkAuth = async () => {\n      const { data: { session } } = await supabase.auth.getSession()\n      \n      if (!session) {\n        router.push(\"/login\")\n      } else {\n        setAuthenticated(true)\n      }\n      setLoading(false)\n    }\n\n    checkAuth()\n\n    // 監聽認證狀態變化\n    const { data: { subscription } } = supabase.auth.onAuthStateChange(\n      (event, session) => {\n        if (event === \"SIGNED_OUT\") {\n          router.push(\"/login\")\n        }\n      }\n    )\n\n    return () => subscription.unsubscribe()\n  }, [router])\n\n  // 載入中顯示\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n        <div className=\"flex flex-col items-center gap-4\">\n          <div className=\"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin\" />\n          <p className=\"text-gray-600\">載入中...</p>\n        </div>\n      </div>\n    )\n  }\n\n  // 未認證不顯示內容\n  if (!authenticated) {\n    return null\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* 側邊欄（桌面版） */}\n      <Sidebar />\n\n      {/* 主內容區 */}\n      <div className=\"md:pl-64\">\n        {/* 頂部導航 */}\n        <Header />\n\n        {/* 頁面內容 */}\n        <main className=\"p-4 md:p-6 pb-20 md:pb-6\">\n          {children}\n        </main>\n      </div>\n\n      {/* 底部導航（手機版） */}\n      <BottomNav />\n    </div>\n  )\n}\n"],"names":[],"mappings":"AAAA,6BAA6B;;;;;;AAG7B;AACA;AACA;AACA;AACA;AACA;AAPA;;;;;;;;AASe,SAAS,gBAAgB,EACtC,QAAQ,EAGT;IACC,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAC;IAEnD,IAAA,kNAAS,EAAC;QACR,MAAM,YAAY;YAChB,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE,GAAG,MAAM,iIAAQ,CAAC,IAAI,CAAC,UAAU;YAE5D,IAAI,CAAC,SAAS;gBACZ,OAAO,IAAI,CAAC;YACd,OAAO;gBACL,iBAAiB;YACnB;YACA,WAAW;QACb;QAEA;QAEA,WAAW;QACX,MAAM,EAAE,MAAM,EAAE,YAAY,EAAE,EAAE,GAAG,iIAAQ,CAAC,IAAI,CAAC,iBAAiB,CAChE,CAAC,OAAO;YACN,IAAI,UAAU,cAAc;gBAC1B,OAAO,IAAI,CAAC;YACd;QACF;QAGF,OAAO,IAAM,aAAa,WAAW;IACvC,GAAG;QAAC;KAAO;IAEX,QAAQ;IACR,IAAI,SAAS;QACX,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;;;;;kCACf,8OAAC;wBAAE,WAAU;kCAAgB;;;;;;;;;;;;;;;;;IAIrC;IAEA,WAAW;IACX,IAAI,CAAC,eAAe;QAClB,OAAO;IACT;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC,2IAAO;;;;;0BAGR,8OAAC;gBAAI,WAAU;;kCAEb,8OAAC,yIAAM;;;;;kCAGP,8OAAC;wBAAK,WAAU;kCACb;;;;;;;;;;;;0BAKL,8OAAC,mJAAS;;;;;;;;;;;AAGhB"}}]
}